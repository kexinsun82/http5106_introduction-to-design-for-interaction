!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=70)}({1:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},10:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ELEMENT_READJUSTMENT_WAIT_TIME=t.SPINNER_REMOVAL_WAIT_TIME=t.IMPORT_BUTTON_ID=t.CANCEL_BUTTON_ID=t.FOOTER_ID=t.UPPY_CONTAINER_ID=t.CLOSE_BUTTON_ID=t.HEADER_ID=t.SPINNER_FADE_OUT_CLASS=t.SPINNER_CONTAINER_ID=t.MessageStatus=void 0,function(e){e.cancel="cancel",e.success="success",e.logout="logout",e.open="open",e.options="options"}(t.MessageStatus||(t.MessageStatus={})),t.SPINNER_CONTAINER_ID="spinner-container",t.SPINNER_FADE_OUT_CLASS="fade-out",t.HEADER_ID="header",t.CLOSE_BUTTON_ID="close-button",t.UPPY_CONTAINER_ID="uppy-container",t.FOOTER_ID="buttonscontainer",t.CANCEL_BUTTON_ID="cancel",t.IMPORT_BUTTON_ID="startUpload",t.SPINNER_REMOVAL_WAIT_TIME=600,t.ELEMENT_READJUSTMENT_WAIT_TIME=100},4:function(e,t,r){"use strict";t.a=function(e,t){}},5:function(e,t,r){"use strict";r.r(t);var n=r(1),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType,o=r(4);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"RuleList",(function(){return X})),r.d(t,"SheetsManager",(function(){return Se})),r.d(t,"SheetsRegistry",(function(){return ee})),r.d(t,"create",(function(){return be})),r.d(t,"createGenerateId",(function(){return se})),r.d(t,"createRule",(function(){return p})),r.d(t,"getDynamicStyles",(function(){return xe})),r.d(t,"hasCSSTOMSupport",(function(){return Re})),r.d(t,"sheets",(function(){return te})),r.d(t,"toCssValue",(function(){return v}));var d={}.constructor;function f(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==d)return e;var t={};for(var r in e)t[r]=f(e[r]);return t}function p(e,t,r){void 0===e&&(e="unnamed");var n=r.jss,i=f(t),s=n.plugins.onCreateRule(e,i,r);return s||(e[0],null)}var y=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r},v=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)t&&(t+=", "),t+=y(e[r]," ");else t=y(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function m(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function b(e,t,r){void 0===r&&(r={});var n="";if(!t)return n;var i=r.indent,s=void 0===i?0:i,o=t.fallbacks;!1===r.format&&(s=-1/0);var a=g(r),u=a.linebreak,l=a.space;if(e&&s++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var h=o[c];for(var d in h){var f=h[d];null!=f&&(n&&(n+=u),n+=m(d+":"+l+v(f)+";",s))}}else for(var p in o){var y=o[p];null!=y&&(n&&(n+=u),n+=m(p+":"+l+v(y)+";",s))}for(var b in t){var S=t[b];null!=S&&"fallbacks"!==b&&(n&&(n+=u),n+=m(b+":"+l+v(S)+";",s))}return(n||r.allowEmpty)&&e?(n&&(n=""+u+n+u),m(""+e+l+"{"+n,--s)+m("}",s)):n}var S=/([[\].#*$><+~=|^:(),"'`\s])/g,R="undefined"!=typeof CSS&&CSS.escape,x=function(e){return R?R(e):e.replace(S,"\\$1")},k=function(){function e(e,t,r){this.type="style",this.isProcessed=!1;var n=r.sheet,i=r.Renderer;this.key=e,this.options=r,this.style=t,n?this.renderer=n.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,r){if(void 0===t)return this.style[e];var n=!!r&&r.force;if(!n&&this.style[e]===t)return this;var i=t;r&&!1===r.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var s=null==i||!1===i,o=e in this.style;if(s&&!o&&!n)return this;var a=s&&o;if(a?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),O=function(e){function t(t,r,n){var i;i=e.call(this,t,r,n)||this;var s=n.selector,o=n.scoped,a=n.sheet,u=n.generateId;return s?i.selectorText=s:!1!==o&&(i.id=u(h(h(i)),a),i.selectorText="."+x(i.id)),i}c(t,e);var r=t.prototype;return r.applyTo=function(e){var t=this.renderer;if(t){var r=this.toJSON();for(var n in r)t.setProperty(e,n,r[n])}return this},r.toJSON=function(){var e={};for(var t in this.style){var r=this.style[t];"object"!=typeof r?e[t]=r:Array.isArray(r)&&(e[t]=v(r))}return e},r.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(n.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,r)},u(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,r=this.renderable;if(r&&t)t.setSelector(r,e)||t.replaceRule(r,this)}},get:function(){return this.selectorText}}]),t}(k),P={onCreateRule:function(e,t,r){return"@"===e[0]||r.parent&&"keyframes"===r.parent.type?null:new O(e,t,r)}},w={indent:1,children:!0},_=/@([\w-]+)/,I=function(){function e(e,t,r){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(_);for(var s in this.at=i?i[1]:"unknown",this.query=r.name||"@"+this.at,this.options=r,this.rules=new X(Object(n.a)({},r,{parent:this})),t)this.rules.add(s,t[s]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n?(this.options.jss.plugins.onProcessRule(n),n):null},t.replaceRule=function(e,t,r){var n=this.rules.replace(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.toString=function(e){void 0===e&&(e=w);var t=g(e).linebreak;if(null==e.indent&&(e.indent=w.indent),null==e.children&&(e.children=w.children),!1===e.children)return this.query+" {}";var r=this.rules.toString(e);return r?this.query+" {"+t+r+t+"}":""},e}(),j=/@media|@supports\s+/,E={onCreateRule:function(e,t,r){return j.test(e)?new I(e,t,r):null}},T={indent:1,children:!0},A=/@keyframes\s+([\w-]+)/,C=function(){function e(e,t,r){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(A);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var s=r.scoped,o=r.sheet,a=r.generateId;for(var u in this.id=!1===s?this.name:x(a(this,o)),this.rules=new X(Object(n.a)({},r,{parent:this})),t)this.rules.add(u,t[u],Object(n.a)({},r,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=T);var t=g(e).linebreak;if(null==e.indent&&(e.indent=T.indent),null==e.children&&(e.children=T.children),!1===e.children)return this.at+" "+this.id+" {}";var r=this.rules.toString(e);return r&&(r=""+t+r+t),this.at+" "+this.id+" {"+r+"}"},e}(),N=/@keyframes\s+/,M=/\$([\w-]+)/g,U=function(e,t){return"string"==typeof e?e.replace(M,(function(e,r){return r in t?t[r]:e})):e},L=function(e,t,r){var n=e[t],i=U(n,r);i!==n&&(e[t]=i)},D={onCreateRule:function(e,t,r){return"string"==typeof e&&N.test(e)?new C(e,t,r):null},onProcessStyle:function(e,t,r){return"style"===t.type&&r?("animation-name"in e&&L(e,"animation-name",r.keyframes),"animation"in e&&L(e,"animation",r.keyframes),e):e},onChangeValue:function(e,t,r){var n=r.options.sheet;if(!n)return e;switch(t){case"animation":case"animation-name":return U(e,n.keyframes);default:return e}}},q=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(n.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,r)},t}(k),V={onCreateRule:function(e,t,r){return r.parent&&"keyframes"===r.parent.type?new q(e,t,r):null}},B=function(){function e(e,t,r){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var r="",n=0;n<this.style.length;n++)r+=b(this.at,this.style[n]),this.style[n+1]&&(r+=t);return r}return b(this.at,this.style,e)},e}(),G=/@font-face/,W={onCreateRule:function(e,t,r){return G.test(e)?new B(e,t,r):null}},F=function(){function e(e,t,r){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,r){return"@viewport"===e||"@-ms-viewport"===e?new F(e,t,r):null}},J=function(){function e(e,t,r){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=r}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),z={"@charset":!0,"@import":!0,"@namespace":!0},$=[P,E,D,V,W,H,{onCreateRule:function(e,t,r){return e in z?new J(e,t,r):null}}],K={process:!0},Y={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,r){var i=this.options,s=i.parent,o=i.sheet,a=i.jss,u=i.Renderer,l=i.generateId,c=i.scoped,h=Object(n.a)({classes:this.classes,parent:s,sheet:o,jss:a,Renderer:u,generateId:l,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},r),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(h.selector="."+x(this.classes[d]));var f=p(d,t,h);if(!f)return null;this.register(f);var y=void 0===h.index?this.index.length:h.index;return this.index.splice(y,0,f),f},t.replace=function(e,t,r){var i=this.get(e),s=this.index.indexOf(i);i&&this.remove(i);var o=r;return-1!==s&&(o=Object(n.a)({},r,{index:s})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof O?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof C&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof O?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof C&&delete this.keyframes[e.name]},t.update=function(){var e,t,r;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,r);else for(var n=0;n<this.index.length;n++)this.updateOne(this.index[n],t,r)},t.updateOne=function(t,r,n){void 0===n&&(n=K);var i=this.options,s=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(r,n);else{var a=t.style;if(s.onUpdate(r,t,o,n),n.process&&a&&a!==t.style){for(var u in s.onProcessStyle(t.style,t,o),t.style){var l=t.style[u];l!==a[u]&&t.prop(u,l,Y)}for(var c in a){var h=t.style[c],d=a[c];null==h&&h!==d&&t.prop(c,null,Y)}}}},t.toString=function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,i=g(e).linebreak,s=0;s<this.index.length;s++){var o=this.index[s].toString(e);(o||n)&&(t&&(t+=i),t+=o)}return t},e}(),Q=function(){function e(e,t){for(var r in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(n.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(r,e[r]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(e,t,r);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,r){var n=this.rules.get(e);if(!n)return this.addRule(e,t,r);var i=this.rules.replace(e,t,r);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?n.renderable&&this.renderer.replaceRule(n.renderable,i):this.renderer.deleteRule(n)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var r=[];for(var n in e){var i=this.addRule(n,e[n],t);i&&r.push(i)}return r},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,r){return this.rules.updateOne(e,t,r),this},t.toString=function(e){return this.rules.toString(e)},e}(),Z=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,r){for(var n=0;n<this.registry.onCreateRule.length;n++){var i=this.registry.onCreateRule[n](e,t,r);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,r){for(var n=0;n<this.registry.onProcessStyle.length;n++)t.style=this.registry.onProcessStyle[n](t.style,t,r)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,r,n){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,r,n)},t.onChangeValue=function(e,t,r){for(var n=e,i=0;i<this.registry.onChangeValue.length;i++)n=this.registry.onChangeValue[i](n,t,r);return n},t.use=function(e,t){void 0===t&&(t={queue:"external"});var r=this.plugins[t.queue];-1===r.indexOf(e)&&(r.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var r in t)r in e&&e[r].push(t[r]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,r=t.attached,n=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["attached"]),i=g(n).linebreak,s="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=r&&a.attached!==r||(s&&(s+=i),s+=a.toString(n))}return s},u(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),te=new ee,re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ne]&&(re[ne]=0);var ie=re[ne]++,se=function(e){void 0===e&&(e={});var t=0;return function(r,n){t+=1;var i="",s="";return n&&(n.options.classNamePrefix&&(s=n.options.classNamePrefix),null!=n.options.jss.id&&(i=String(n.options.jss.id))),e.minify?""+(s||"c")+ie+i+t:s+r.key+"-"+ie+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ae=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},ue=function(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=v(r)),e.attributeStyleMap)e.attributeStyleMap.set(t,n);else{var i=n?n.indexOf("!important"):-1,s=i>-1?n.substr(0,i-1):n;e.style.setProperty(t,s,i>-1?"important":"")}}catch(e){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},ce=function(e,t){return e.selectorText=t,e.selectorText===t},he=oe((function(){return document.querySelector("head")}));function de(e){var t=te.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if((r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&"string"==typeof n){var i=function(e){for(var t=he(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var fe=oe((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),pe=function(e,t,r){try{"insertRule"in e?e.insertRule(t,r):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[r]},ye=function(e,t){var r=e.cssRules.length;return void 0===t||t>r?r:t},ve=function(){function e(e){this.getPropertyValue=ae,this.setProperty=ue,this.removeProperty=le,this.setSelector=ce,this.hasInsertedRules=!1,this.cssRules=[],e&&te.add(e),this.sheet=e;var t,r=this.sheet?this.sheet.options:{},n=r.media,i=r.meta,s=r.element;this.element=s||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=fe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var r=t.insertionPoint,n=de(t);if(!1!==n&&n.parent)n.parent.insertBefore(e,n.node);else if(r&&"number"==typeof r.nodeType){var i=r,s=i.parentNode;s&&s.insertBefore(e,i.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var r=0;r<e.index.length;r++)this.insertRule(e.index[r],r,t)},t.insertRule=function(e,t,r){if(void 0===r&&(r=this.element.sheet),e.rules){var n=e,i=r;if("conditional"===e.type||"keyframes"===e.type){var s=ye(r,t);if(!1===(i=pe(r,n.toString({children:!1}),s)))return!1;this.refCssRule(e,s,i)}return this.insertRules(n.rules,i),i}var o=e.toString();if(!o)return!1;var a=ye(r,t),u=pe(r,o,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,a,u),u)},t.refCssRule=function(e,t,r){e.renderable=r,e.options.parent instanceof Q&&this.cssRules.splice(t,0,r)},t.deleteRule=function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),this.cssRules.splice(r,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var r=this.indexOf(e);return-1!==r&&(this.element.sheet.deleteRule(r),this.cssRules.splice(r,1),this.insertRule(t,r))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,me=function(){function e(e){this.id=ge++,this.version="10.9.2",this.plugins=new Z,this.options={id:{minify:!1},createGenerateId:se,Renderer:s?ve:null,plugins:[]},this.generateId=se({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(n.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var r=t.index;"number"!=typeof r&&(r=0===te.index?0:te.index+1);var i=new Q(e,Object(n.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),te.remove(e),this},t.createRule=function(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=Object(n.a)({},r,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var s=p(e,t,i);return s&&this.plugins.onProcessRule(s),s},t.use=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){e.plugins.use(t)})),this},e}(),be=function(e){return new me(e)},Se=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet;Object(o.a)(!1,"[JSS] SheetsManager: can't find sheet to manage")},t.unmanage=function(e){var t=this.sheets.get(e);t?t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach()):Object(o.a)(!1,"SheetsManager: can't find sheet to unmanage")},u(e,[{key:"size",get:function(){return this.length}}]),e}(),Re="object"==typeof CSS&&null!=CSS&&"number"in CSS;function xe(e){var t=null;for(var r in e){var n=e[r],i=typeof n;if("function"===i)t||(t={}),t[r]=n;else if("object"===i&&null!==n&&!Array.isArray(n)){var s=xe(n);s&&(t||(t={}),t[r]=s)}}return t}
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */var ke=be();t.default=ke},70:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UppyLoader=t.Explorer=void 0;const i=n(r(5)),s=n(r(9)),o=r(71),a=r(10),u=[{apiName:"playground",cdn:"https://cloud-storage-integration.playground.blackboardcdn.com"},{apiName:"dev",cdn:"https://cloud-storage-integration.dev.blackboardcdn.com"},{apiName:"default",cdn:"https://cloud-storage-integration.blackboardcdn.com"}];class l{constructor(e,t){this.iframe=e,this.backdrop=t,this.iframeHasLoaded=!1,this.subscribers={success:[],cancel:[],error:[],addAccount:[],deleteAccount:[]},window.addEventListener("message",r=>{if("cancel"===r.data.status){e.style.display="none",t.style.display="none";for(const e of this.subscribers.cancel)e.call(void 0)}if("success"===r.data.status){e.style.display="none",t.style.display="none";for(const e of this.subscribers.success)e.call(void 0,r.data.files)}}),this.iframe.addEventListener("load",()=>{this.iframeHasLoaded=!0})}postMessageToIframe(e,t){var r;const n={status:e.toString(),options:t};this.iframeHasLoaded?null===(r=this.iframe.contentWindow)||void 0===r||r.postMessage(n,this.iframe.src):this.iframe.addEventListener("load",()=>{var e;null===(e=this.iframe.contentWindow)||void 0===e||e.postMessage(n,this.iframe.src)})}update(e){this.postMessageToIframe(a.MessageStatus.options,e)}choose(){this.iframe.style.display="block",this.backdrop.style.display="block",this.postMessageToIframe(a.MessageStatus.open)}logout(){this.postMessageToIframe(a.MessageStatus.logout)}on(e,t){switch(e){case"success":this.subscribers.success.push(t);break;case"cancel":this.subscribers.cancel.push(t);break;case"error":this.subscribers.error.push(t);break;case"addAccount":this.subscribers.addAccount.push(t);break;case"deleteAccount":this.subscribers.deleteAccount.push(t);break;default:throw new Error("unknown event")}}}t.Explorer=l;class c{constructor(){var e;this.explorer=e=>{var t,r;const n=null!==(t=e.text_direction)&&void 0!==t?t:"ltr",i=document.createElement("iframe");i.id="cloud-storage-iframe-"+Math.floor(Math.random()*10**12),i.classList.add("kloudless-modal",this.iframeStyleSheet.classes.modal),i.classList.add("cloud-storage-integration-modal",this.iframeStyleSheet.classes.modal),i.setAttribute("title","explorer"),i.setAttribute("dir",n);const s=new URL(this.getExplorerUrl(e)+"/explorer/explorer.html");s.searchParams.append("origin",window.origin),s.searchParams.append("base_url",null!==(r=e.base_url)&&void 0!==r?r:""),s.searchParams.append("text_direction",n),!1===e.multiselect&&s.searchParams.append("allow_single_file","true"),e.show_dummy_provider&&s.searchParams.append("show_dummy_provider","true"),i.setAttribute("src",s.toString()),i.style.display="none",document.body.appendChild(i);return null===document.getElementById("cloud-storage-backdrop")&&document.body.appendChild(this.backdrop),new l(i,this.backdrop)},this.currentScriptUrl=null===(e=document.currentScript)||void 0===e?void 0:e.src,i.default.use((0,s.default)()),this.globalStyleSheet=i.default.createStyleSheet(o.globalStyle).attach(),this.iframeStyleSheet=i.default.createStyleSheet(o.iframeStyle,{classNamePrefix:"cloud-storage-integration-"}).attach(),this.backdropStyleSheet=i.default.createStyleSheet(o.backdropStyle,{classNamePrefix:"cloud-storage-integration-"}).attach(),this.backdrop=document.getElementById("cloud-storage-backdrop"),this.backdrop=document.createElement("div"),this.backdrop.id="cloud-storage-backdrop",this.backdrop.classList.add(this.backdropStyleSheet.classes.backdrop)}getExplorerUrl(e){var t,r,n;if(e.use_loader_explorer){const e=this.currentScriptUrl.split("/"),t=e.indexOf("loader");if(t>0){return e.slice(0,t).join("/")}console.error("uppy: ERROR: nonstandard currentScript url.  Cannot use loader explorer")}const i=null!==(t=null==e?void 0:e.base_url)&&void 0!==t?t:"";return null!==(n=null===(r=u.find(e=>i.indexOf(e.apiName)>0))||void 0===r?void 0:r.cdn)&&void 0!==n?n:u[u.length-1].cdn}authenticator(){}}t.UppyLoader=c,window.Kloudless=new c,window.CloudStorageIntegration=window.Kloudless},71:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backdropStyle=t.iframeStyle=t.globalStyle=void 0,t.globalStyle={"@global":{}},t.iframeStyle={modal:{display:"block","box-sizing":"border-box",position:"fixed",top:"20%",left:"50%",width:"640px",height:"60vh",transform:"translateX(-50%)",border:"solid 0 #666","border-radius":"2px","box-shadow":"0 0 10px rgba(0,0,0,0.4)",transition:"all 0","-webkit-transition":"all 0","z-index":"9999","background-color":"#fafafa"},"@media only screen and (max-width:1024px), only screen and (max-height:768px), only screen and (max-device-width:1024px), only screen and (max-device-height:768px)":{modal:{height:"84vh",top:"8%"}},"@media only screen and (max-width:640px), only screen and (max-height:512px), only screen and (max-device-width:640px), only screen and (max-device-height:512px)":{modal:{width:"1px","min-width":"100%",height:"100%",top:"0",left:"0",transform:"none"}}},t.backdropStyle={backdrop:{position:"fixed",margin:"0",top:"0",left:"0",padding:"0",width:"100%",height:"100%",display:"none","background-color":"rgba(0,0,0,0.6)","z-index":"9998",opacity:".5"}}},9:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(5),s="@global",o=function(){function e(e,t,r){for(var o in this.type="global",this.at=s,this.isProcessed=!1,this.key=e,this.options=r,this.rules=new i.RuleList(Object(n.a)({},r,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.replaceRule=function(e,t,r){var n=this.rules.replace(e,t,r);return n&&this.options.jss.plugins.onProcessRule(n),n},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),a=function(){function e(e,t,r){this.type="global",this.at=s,this.isProcessed=!1,this.key=e,this.options=r;var i=e.substr("@global ".length);this.rule=r.jss.createRule(i,t,Object(n.a)({},r,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),u=/\s*,\s*/g;function l(e,t){for(var r=e.split(u),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}t.default=function(){return{onCreateRule:function(e,t,r){if(!e)return null;if(e===s)return new o(e,t,r);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new a(e,t,r);var n=r.parent;return n&&("global"===n.type||n.options.parent&&"global"===n.options.parent.type)&&(r.scoped=!1),r.selector||!1!==r.scoped||(r.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var r=e.options,i=e.style,o=i?i[s]:null;if(o){for(var a in o)t.addRule(a,o[a],Object(n.a)({},r,{selector:l(a,e.selector)}));delete i[s]}}(e,t),function(e,t){var r=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,s.length)===s){var a=l(o.substr(s.length),e.selector);t.addRule(a,i[o],Object(n.a)({},r,{selector:a})),delete i[o]}}(e,t))}}}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzE1MzEwNjczMzEvc3JjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vL2NvZGVidWlsZC9vdXRwdXQvc3JjMTUzMTA2NzMzMS9zcmMvbm9kZV9tb2R1bGVzL3Rpbnktd2FybmluZy9kaXN0L3Rpbnktd2FybmluZy5lc20uanMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzE1MzEwNjczMzEvc3JjL25vZGVfbW9kdWxlcy9pcy1pbi1icm93c2VyL2Rpc3QvbW9kdWxlLmpzIiwid2VicGFjazovLy8vY29kZWJ1aWxkL291dHB1dC9zcmMxNTMxMDY3MzMxL3NyYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzE1MzEwNjczMzEvc3JjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vL2NvZGVidWlsZC9vdXRwdXQvc3JjMTUzMTA2NzMzMS9zcmMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzE1MzEwNjczMzEvc3JjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJ3ZWJwYWNrOi8vLy9jb2RlYnVpbGQvb3V0cHV0L3NyYzE1MzEwNjczMzEvc3JjL25vZGVfbW9kdWxlcy9qc3MvZGlzdC9qc3MuZXNtLmpzIiwid2VicGFjazovLy8vY29kZWJ1aWxkL291dHB1dC9zcmMxNTMxMDY3MzMxL3NyYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL2pzL2xvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL2pzL2xvYWRlci5zdHlsZS50cyIsIndlYnBhY2s6Ly8vL2NvZGVidWlsZC9vdXRwdXQvc3JjMTUzMTA2NzMzMS9zcmMvbm9kZV9tb2R1bGVzL2pzcy1wbHVnaW4tZ2xvYmFsL2Rpc3QvanNzLXBsdWdpbi1nbG9iYWwuZXNtLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJhcHBseSIsInRoaXMiLCJNZXNzYWdlU3RhdHVzIiwiU1BJTk5FUl9DT05UQUlORVJfSUQiLCJTUElOTkVSX0ZBREVfT1VUX0NMQVNTIiwiSEVBREVSX0lEIiwiQ0xPU0VfQlVUVE9OX0lEIiwiVVBQWV9DT05UQUlORVJfSUQiLCJGT09URVJfSUQiLCJDQU5DRUxfQlVUVE9OX0lEIiwiSU1QT1JUX0JVVFRPTl9JRCIsIlNQSU5ORVJfUkVNT1ZBTF9XQUlUX1RJTUUiLCJFTEVNRU5UX1JFQURKVVNUTUVOVF9XQUlUX1RJTUUiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwiX3R5cGVvZiIsIml0ZXJhdG9yIiwib2JqIiwiY29uc3RydWN0b3IiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm5vZGVUeXBlIiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9jcmVhdGVDbGFzcyIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3NldFByb3RvdHlwZU9mIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJwbGFpbk9iamVjdENvbnN0cnVyY3RvciIsImNsb25lU3R5bGUiLCJzdHlsZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIm5ld1N0eWxlIiwiY3JlYXRlUnVsZSIsImRlY2wiLCJvcHRpb25zIiwianNzIiwiZGVjbENvcHkiLCJydWxlIiwicGx1Z2lucyIsIm9uQ3JlYXRlUnVsZSIsImpvaW4iLCJieSIsInJlc3VsdCIsInRvQ3NzVmFsdWUiLCJjc3NWYWx1ZSIsImdldFdoaXRlc3BhY2VTeW1ib2xzIiwiZm9ybWF0IiwibGluZWJyZWFrIiwic3BhY2UiLCJpbmRlbnRTdHIiLCJzdHIiLCJpbmRlbnQiLCJpbmRleCIsInRvQ3NzIiwic2VsZWN0b3IiLCJfb3B0aW9ucyRpbmRlbnQiLCJmYWxsYmFja3MiLCJJbmZpbml0eSIsIl9nZXRXaGl0ZXNwYWNlU3ltYm9scyIsImZhbGxiYWNrIiwicHJvcCIsIl9wcm9wIiwiX3ZhbHVlIiwiX3Byb3AyIiwiX3ZhbHVlMiIsImFsbG93RW1wdHkiLCJlc2NhcGVSZWdleCIsIm5hdGl2ZUVzY2FwZSIsIkNTUyIsImVzY2FwZSIsInJlcGxhY2UiLCJCYXNlU3R5bGVSdWxlIiwidHlwZSIsImlzUHJvY2Vzc2VkIiwic2hlZXQiLCJSZW5kZXJlciIsInJlbmRlcmVyIiwidW5kZWZpbmVkIiwiZm9yY2UiLCJuZXdWYWx1ZSIsInByb2Nlc3MiLCJvbkNoYW5nZVZhbHVlIiwiaXNFbXB0eSIsImlzRGVmaW5lZCIsInJlbW92ZSIsInJlbmRlcmFibGUiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5IiwiYXR0YWNoZWQiLCJfQmFzZVN0eWxlUnVsZSIsIlN0eWxlUnVsZSIsIl90aGlzIiwic2NvcGVkIiwiZ2VuZXJhdGVJZCIsInNlbGVjdG9yVGV4dCIsImlkIiwiX3Byb3RvMiIsImFwcGx5VG8iLCJqc29uIiwidG9KU09OIiwidG9TdHJpbmciLCJvcHRzIiwibGluayIsInNldCIsInNldFNlbGVjdG9yIiwicmVwbGFjZVJ1bGUiLCJwbHVnaW5TdHlsZVJ1bGUiLCJwYXJlbnQiLCJkZWZhdWx0VG9TdHJpbmdPcHRpb25zIiwiY2hpbGRyZW4iLCJhdFJlZ0V4cCIsIkNvbmRpdGlvbmFsUnVsZSIsInN0eWxlcyIsImF0TWF0Y2giLCJtYXRjaCIsImF0IiwicXVlcnkiLCJydWxlcyIsImFkZCIsIl9wcm90byIsImdldFJ1bGUiLCJpbmRleE9mIiwiYWRkUnVsZSIsIm9uUHJvY2Vzc1J1bGUiLCJuZXdSdWxlIiwia2V5UmVnRXhwIiwicGx1Z2luQ29uZGl0aW9uYWxSdWxlIiwidGVzdCIsImRlZmF1bHRUb1N0cmluZ09wdGlvbnMkMSIsIm5hbWVSZWdFeHAiLCJLZXlmcmFtZXNSdWxlIiwiZnJhbWVzIiwibmFtZU1hdGNoIiwia2V5UmVnRXhwJDEiLCJyZWZSZWdFeHAiLCJmaW5kUmVmZXJlbmNlZEtleWZyYW1lIiwidmFsIiwia2V5ZnJhbWVzIiwicmVwbGFjZVJlZiIsInJlZktleWZyYW1lIiwicGx1Z2luS2V5ZnJhbWVzUnVsZSIsIm9uUHJvY2Vzc1N0eWxlIiwiS2V5ZnJhbWVSdWxlIiwicGx1Z2luS2V5ZnJhbWVSdWxlIiwiRm9udEZhY2VSdWxlIiwia2V5UmVnRXhwJDIiLCJwbHVnaW5Gb250RmFjZVJ1bGUiLCJWaWV3cG9ydFJ1bGUiLCJwbHVnaW5WaWV3cG9ydFJ1bGUiLCJTaW1wbGVSdWxlIiwia2V5c01hcCIsImRlZmF1bHRVcGRhdGVPcHRpb25zIiwiZm9yY2VVcGRhdGVPcHRpb25zIiwiUnVsZUxpc3QiLCJyYXciLCJjb3VudGVyIiwiY2xhc3NlcyIsInJ1bGVPcHRpb25zIiwiX3RoaXMkb3B0aW9ucyIsInJlZ2lzdGVyIiwic3BsaWNlIiwib2xkUnVsZSIsIm9sZEluZGV4IiwibmFtZU9yU2VsZWN0b3IiLCJ1bnJlZ2lzdGVyIiwic2xpY2UiLCJmb3JFYWNoIiwidXBkYXRlIiwiZGF0YSIsInVwZGF0ZU9uZSIsIl90aGlzJG9wdGlvbnMyIiwib25VcGRhdGUiLCJuZXh0VmFsdWUiLCJfbmV4dFZhbHVlIiwiX3ByZXZWYWx1ZSIsImNzcyIsIlN0eWxlU2hlZXQiLCJkZXBsb3llZCIsImF0dGFjaCIsImRlcGxveSIsImRldGFjaCIsInF1ZXVlIiwicHVzaCIsImluc2VydFJ1bGUiLCJkZWxldGVSdWxlIiwiYWRkUnVsZXMiLCJhZGRlZCIsIl90aGlzJHJ1bGVzIiwiUGx1Z2luc1JlZ2lzdHJ5IiwiaW50ZXJuYWwiLCJleHRlcm5hbCIsInJlZ2lzdHJ5Iiwib25Qcm9jZXNzU2hlZXQiLCJwcm9jZXNzZWRWYWx1ZSIsInVzZSIsIm5ld1BsdWdpbiIsImNvbmNhdCIsInJlZHVjZSIsInBsdWdpbiIsIlNoZWV0c1JlZ2lzdHJ5IiwicmVzZXQiLCJfdGVtcCIsIl9yZWYiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJrZXlzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJzaGVldHMiLCJnbG9iYWxUaGlzJDEiLCJnbG9iYWxUaGlzIiwiTWF0aCIsIkZ1bmN0aW9uIiwiY3JlYXRlR2VuZXJhdGVJZCIsInJ1bGVDb3VudGVyIiwianNzSWQiLCJwcmVmaXgiLCJjbGFzc05hbWVQcmVmaXgiLCJTdHJpbmciLCJtaW5pZnkiLCJtZW1vaXplIiwiZm4iLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3NzUnVsZSIsImF0dHJpYnV0ZVN0eWxlTWFwIiwiZXJyIiwiaW5kZXhPZkltcG9ydGFudEZsYWciLCJjc3NWYWx1ZVdpdGhvdXRJbXBvcnRhbnRGbGFnIiwic3Vic3RyIiwiZGVsZXRlIiwiZ2V0SGVhZCIsInF1ZXJ5U2VsZWN0b3IiLCJmaW5kUHJldk5vZGUiLCJpbnNlcnRpb25Qb2ludCIsImZpbmRIaWdoZXJTaGVldCIsImVsZW1lbnQiLCJwYXJlbnROb2RlIiwibm9kZSIsImZpbmRIaWdoZXN0U2hlZXQiLCJuZXh0U2libGluZyIsImNvbW1lbnQiLCJ0ZXh0IiwiaGVhZCIsImNoaWxkTm9kZXMiLCJub2RlVmFsdWUiLCJ0cmltIiwiZmluZENvbW1lbnROb2RlIiwiZ2V0Tm9uY2UiLCJnZXRBdHRyaWJ1dGUiLCJfaW5zZXJ0UnVsZSIsImNvbnRhaW5lciIsImFwcGVuZFJ1bGUiLCJjc3NSdWxlcyIsImdldFZhbGlkUnVsZUluc2VydGlvbkluZGV4IiwibWF4SW5kZXgiLCJEb21SZW5kZXJlciIsImhhc0luc2VydGVkUnVsZXMiLCJlbCIsIm1lZGlhIiwibWV0YSIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsIm5vbmNlIiwibmV4dE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJpbnNlcnRpb25Qb2ludEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImluc2VydFN0eWxlIiwiQm9vbGVhbiIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0UnVsZXMiLCJuYXRpdmVQYXJlbnQiLCJsYXRlc3ROYXRpdmVQYXJlbnQiLCJfaW5zZXJ0aW9uSW5kZXgiLCJyZWZDc3NSdWxlIiwicnVsZVN0ciIsImluc2VydGlvbkluZGV4IiwibmF0aXZlUnVsZSIsImdldFJ1bGVzIiwiaW5zdGFuY2VDb3VudGVyIiwiSnNzIiwidmVyc2lvbiIsInNldHVwIiwiY3JlYXRlU3R5bGVTaGVldCIsInJlbW92ZVN0eWxlU2hlZXQiLCJfbGVuIiwiX2tleSIsImNyZWF0ZUpzcyIsIlNoZWV0c01hbmFnZXIiLCJXZWFrTWFwIiwiZW50cnkiLCJoYXMiLCJyZWZzIiwibWFuYWdlIiwidW5tYW5hZ2UiLCJoYXNDU1NUT01TdXBwb3J0IiwiZ2V0RHluYW1pY1N0eWxlcyIsInRvIiwiZXh0cmFjdGVkIiwiQ0ROTWFwIiwiYXBpTmFtZSIsImNkbiIsIkV4cGxvcmVyIiwiaWZyYW1lIiwiYmFja2Ryb3AiLCJpZnJhbWVIYXNMb2FkZWQiLCJzdWJzY3JpYmVycyIsInN1Y2Nlc3MiLCJjYW5jZWwiLCJlcnJvciIsImFkZEFjY291bnQiLCJkZWxldGVBY2NvdW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXR1cyIsImRpc3BsYXkiLCJzdWJzY3JpYmVyIiwiZmlsZXMiLCJjb250ZW50V2luZG93IiwicG9zdE1lc3NhZ2UiLCJzcmMiLCJwb3N0TWVzc2FnZVRvSWZyYW1lIiwib3BlbiIsImxvZ291dCIsImV2ZW50TmFtZSIsImNhbGxiYWNrIiwiRXJyb3IiLCJVcHB5TG9hZGVyIiwiZXhwbG9yZXIiLCJ0ZXh0RGlyZWN0aW9uIiwidGV4dF9kaXJlY3Rpb24iLCJmcmFtZSIsImZsb29yIiwicmFuZG9tIiwiY2xhc3NMaXN0IiwiaWZyYW1lU3R5bGVTaGVldCIsIm1vZGFsIiwiZnJhbWVVcmwiLCJVUkwiLCJnZXRFeHBsb3JlclVybCIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsIm9yaWdpbiIsImJhc2VfdXJsIiwibXVsdGlzZWxlY3QiLCJzaG93X2R1bW15X3Byb3ZpZGVyIiwiYm9keSIsImdldEVsZW1lbnRCeUlkIiwiY3VycmVudFNjcmlwdFVybCIsImN1cnJlbnRTY3JpcHQiLCJnbG9iYWxTdHlsZVNoZWV0IiwiZ2xvYmFsU3R5bGUiLCJpZnJhbWVTdHlsZSIsImJhY2tkcm9wU3R5bGVTaGVldCIsImJhY2tkcm9wU3R5bGUiLCJ1c2VfbG9hZGVyX2V4cGxvcmVyIiwidXJsUGFydHMiLCJzcGxpdCIsImJhc2VJbmRleCIsImNvbnNvbGUiLCJhcGlTZXJ2ZXIiLCJmaW5kIiwiaXRlbSIsIktsb3VkbGVzcyIsIkNsb3VkU3RvcmFnZUludGVncmF0aW9uIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJ0cmFuc2Zvcm0iLCJib3JkZXIiLCJ0cmFuc2l0aW9uIiwibWFyZ2luIiwicGFkZGluZyIsIm9wYWNpdHkiLCJHbG9iYWxDb250YWluZXJSdWxlIiwiR2xvYmFsUHJlZml4ZWRSdWxlIiwic2VwYXJhdG9yUmVnRXhwIiwiYWRkU2NvcGUiLCJzY29wZSIsInBhcnRzIiwiaGFuZGxlTmVzdGVkR2xvYmFsQ29udGFpbmVyUnVsZSIsImhhbmRsZVByZWZpeGVkR2xvYmFsUnVsZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVB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LE1BV1B5SyxjQVJGLFNBQXVCdEYsRUFBTXFDLEdBQ1QsVUFBZHJDLEVBQUttQyxNQUFxQkUsSUE3RGxDLFNBQXlDckMsRUFBTXFDLEdBQzdDLElBQUl4QyxFQUFVRyxFQUFLSCxRQUNmUCxFQUFRVSxFQUFLVixNQUNiMEYsRUFBUTFGLEVBQVFBLEVBQU13RixHQUFNLEtBQ2hDLEdBQUtFLEVBQUwsQ0FFQSxJQUFLLElBQUluSyxLQUFRbUssRUFDZjNDLEVBQU1nRCxRQUFReEssRUFBTW1LLEVBQU1uSyxHQUFPLFlBQVMsR0FBSWdGLEVBQVMsQ0FDckRvQixTQUFVb1UsRUFBU3hhLEVBQU1tRixFQUFLaUIsb0JBSTNCM0IsRUFBTXdGLElBa0RYMFEsQ0FBZ0N4VixFQUFNcUMsR0EvQzFDLFNBQWtDckMsRUFBTXFDLEdBQ3RDLElBQUl4QyxFQUFVRyxFQUFLSCxRQUNmUCxFQUFRVSxFQUFLVixNQUVqQixJQUFLLElBQUlpQyxLQUFRakMsRUFDZixHQUFnQixNQUFaaUMsRUFBSyxJQUFjQSxFQUFLdUssT0FBTyxFQUFHaEgsRUFBR3BJLFVBQVlvSSxFQUFyRCxDQUNBLElBQUk3RCxFQUFXb1UsRUFBUzlULEVBQUt1SyxPQUFPaEgsRUFBR3BJLFFBQVNzRCxFQUFLaUIsVUFDckRvQixFQUFNZ0QsUUFBUXBFLEVBQVUzQixFQUFNaUMsR0FBTyxZQUFTLEdBQUkxQixFQUFTLENBQ3pEb0IsU0FBVUEsWUFFTDNCLEVBQU1pQyxJQXNDYmtVLENBQXlCelYsRUFBTXFDIiwiZmlsZSI6ImxvYWRlci9qcy9sb2FkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNzApO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiLyoqXG4gKiBNZXNzYWdlcyBwYXNzZWQgYmV0d2VlbiB0aGUgaWZyYW1lIGFuZCB0aGUgcGFyZW50IGZyYW1lXG4gKi9cbmV4cG9ydCBlbnVtIE1lc3NhZ2VTdGF0dXMge1xuICAvKipcbiAgICogQ2FuY2VsIGJ1dHRvbiBwcmVzc2VkIGluIHRoZSBpZnJhbWVcbiAgICovXG4gIGNhbmNlbCA9ICdjYW5jZWwnLFxuXG4gIC8qKlxuICAgKiBJbXBvcnQgYnV0dG9uIHByZXNzZWQgaW4gdGhlIGlmcmFtZVxuICAgKi9cbiAgc3VjY2VzcyA9ICdzdWNjZXNzJyxcblxuICAvKipcbiAgICogTG9nb3V0IG1lc3NhZ2Ugc2VudCB0byB0aGUgaWZyYW1lXG4gICAqL1xuICBsb2dvdXQgPSAnbG9nb3V0JyxcblxuICAvKipcbiAgICogT3BlbiBtZXNzYWdlIHNlbnQgdG8gdGhlIGlmcmFtZVxuICAgKi9cbiAgb3BlbiA9ICdvcGVuJyxcblxuICAvKipcbiAgICogT3B0aW9ucyB1cGRhdGUgc2VudCB0byB0aGUgaWZyYW1lXG4gICAqL1xuICBvcHRpb25zID0gJ29wdGlvbnMnXG59XG5cbmV4cG9ydCBjb25zdCBTUElOTkVSX0NPTlRBSU5FUl9JRCA9ICdzcGlubmVyLWNvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgU1BJTk5FUl9GQURFX09VVF9DTEFTUyA9ICdmYWRlLW91dCc7XG5leHBvcnQgY29uc3QgSEVBREVSX0lEID0gJ2hlYWRlcic7XG5leHBvcnQgY29uc3QgQ0xPU0VfQlVUVE9OX0lEID0gJ2Nsb3NlLWJ1dHRvbic7XG5leHBvcnQgY29uc3QgVVBQWV9DT05UQUlORVJfSUQgPSAndXBweS1jb250YWluZXInO1xuZXhwb3J0IGNvbnN0IEZPT1RFUl9JRCA9ICdidXR0b25zY29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBDQU5DRUxfQlVUVE9OX0lEID0gJ2NhbmNlbCc7XG5leHBvcnQgY29uc3QgSU1QT1JUX0JVVFRPTl9JRCA9ICdzdGFydFVwbG9hZCc7XG5cbi8vIFRoaXMgd2FpdCB0aW1lIHNob3VsZCBiZSBqdXN0IGxvbmcgZW5vdWdoIHRvIGFsbG93IHRoZSBmYWRlIG91dCB0cmFuc2l0aW9uXG4vLyBlbm91Z2ggdGltZSB0byBjb21wbGV0ZSBiZWZvcmUgc2V0dGluZyB0aGUgc3Bpbm5lciBjb250YWluZXIgdG8gZGlzcGxheSAnbm9uZSdcbmV4cG9ydCBjb25zdCBTUElOTkVSX1JFTU9WQUxfV0FJVF9USU1FID0gNjAwO1xuXG4vLyBTb21lIFwiZWxlbWVudCByZWFkanVzdG1lbnRcIiBoYXMgdG8gb2NjdXIgc29tZSBwZXJpb2Qgb2YgdGltZSBhZnRlciB0aGUgaWZyYW1lIGlzIGRpc3BsYXllZFxuLy8gSXQgZG9lcyBub3QgYXBwZWFyIHBvc3NpYmxlIHRvIHN1Y2Nlc3NmdWxseSBleGVjdXRlIHRoaXMgcmVhZGp1c3RtZW50IHdpdGhvdXQgYSB0aW1lb3V0XG5leHBvcnQgY29uc3QgRUxFTUVOVF9SRUFESlVTVE1FTlRfV0FJVF9USU1FID0gMTAwO1xuIiwidmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG5mdW5jdGlvbiB3YXJuaW5nKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoIWlzUHJvZHVjdGlvbikge1xuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGV4dCA9IFwiV2FybmluZzogXCIgKyBtZXNzYWdlO1xuXG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKHRleHQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aHJvdyBFcnJvcih0ZXh0KTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdhcm5pbmc7XG4iLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydCB2YXIgaXNCcm93c2VyID0gKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZih3aW5kb3cpKSA9PT0gXCJvYmplY3RcIiAmJiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZG9jdW1lbnQpKSA9PT0gJ29iamVjdCcgJiYgZG9jdW1lbnQubm9kZVR5cGUgPT09IDk7XG5cbmV4cG9ydCBkZWZhdWx0IGlzQnJvd3NlcjtcbiIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59IiwiaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gXCIuL3NldFByb3RvdHlwZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuICByZXR1cm4gc2VsZjtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgaXNJbkJyb3dzZXIgZnJvbSAnaXMtaW4tYnJvd3Nlcic7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UnO1xuXG52YXIgcGxhaW5PYmplY3RDb25zdHJ1cmN0b3IgPSB7fS5jb25zdHJ1Y3RvcjtcbmZ1bmN0aW9uIGNsb25lU3R5bGUoc3R5bGUpIHtcbiAgaWYgKHN0eWxlID09IG51bGwgfHwgdHlwZW9mIHN0eWxlICE9PSAnb2JqZWN0JykgcmV0dXJuIHN0eWxlO1xuICBpZiAoQXJyYXkuaXNBcnJheShzdHlsZSkpIHJldHVybiBzdHlsZS5tYXAoY2xvbmVTdHlsZSk7XG4gIGlmIChzdHlsZS5jb25zdHJ1Y3RvciAhPT0gcGxhaW5PYmplY3RDb25zdHJ1cmN0b3IpIHJldHVybiBzdHlsZTtcbiAgdmFyIG5ld1N0eWxlID0ge307XG5cbiAgZm9yICh2YXIgbmFtZSBpbiBzdHlsZSkge1xuICAgIG5ld1N0eWxlW25hbWVdID0gY2xvbmVTdHlsZShzdHlsZVtuYW1lXSk7XG4gIH1cblxuICByZXR1cm4gbmV3U3R5bGU7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcnVsZSBpbnN0YW5jZS5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVSdWxlKG5hbWUsIGRlY2wsIG9wdGlvbnMpIHtcbiAgaWYgKG5hbWUgPT09IHZvaWQgMCkge1xuICAgIG5hbWUgPSAndW5uYW1lZCc7XG4gIH1cblxuICB2YXIganNzID0gb3B0aW9ucy5qc3M7XG4gIHZhciBkZWNsQ29weSA9IGNsb25lU3R5bGUoZGVjbCk7XG4gIHZhciBydWxlID0ganNzLnBsdWdpbnMub25DcmVhdGVSdWxlKG5hbWUsIGRlY2xDb3B5LCBvcHRpb25zKTtcbiAgaWYgKHJ1bGUpIHJldHVybiBydWxlOyAvLyBJdCBpcyBhbiBhdC1ydWxlIGFuZCBpdCBoYXMgbm8gaW5zdGFuY2UuXG5cbiAgaWYgKG5hbWVbMF0gPT09ICdAJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gVW5rbm93biBydWxlIFwiICsgbmFtZSkgOiB2b2lkIDA7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGpvaW4gPSBmdW5jdGlvbiBqb2luKHZhbHVlLCBieSkge1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIC8vIFJlbW92ZSAhaW1wb3J0YW50IGZyb20gdGhlIHZhbHVlLCBpdCB3aWxsIGJlIHJlYWRkZWQgbGF0ZXIuXG4gICAgaWYgKHZhbHVlW2ldID09PSAnIWltcG9ydGFudCcpIGJyZWFrO1xuICAgIGlmIChyZXN1bHQpIHJlc3VsdCArPSBieTtcbiAgICByZXN1bHQgKz0gdmFsdWVbaV07XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbi8qKlxuICogQ29udmVydHMgSlNTIGFycmF5IHZhbHVlIHRvIGEgQ1NTIHN0cmluZy5cbiAqXG4gKiBgbWFyZ2luOiBbWyc1cHgnLCAnMTBweCddXWAgPiBgbWFyZ2luOiA1cHggMTBweDtgXG4gKiBgYm9yZGVyOiBbJzFweCcsICcycHgnXWAgPiBgYm9yZGVyOiAxcHgsIDJweDtgXG4gKiBgbWFyZ2luOiBbWyc1cHgnLCAnMTBweCddLCAnIWltcG9ydGFudCddYCA+IGBtYXJnaW46IDVweCAxMHB4ICFpbXBvcnRhbnQ7YFxuICogYGNvbG9yOiBbJ3JlZCcsICFpbXBvcnRhbnRdYCA+IGBjb2xvcjogcmVkICFpbXBvcnRhbnQ7YFxuICovXG5cblxudmFyIHRvQ3NzVmFsdWUgPSBmdW5jdGlvbiB0b0Nzc1ZhbHVlKHZhbHVlKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgdmFyIGNzc1ZhbHVlID0gJyc7IC8vIFN1cHBvcnQgc3BhY2Ugc2VwYXJhdGVkIHZhbHVlcyB2aWEgYFtbJzVweCcsICcxMHB4J11dYC5cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZVswXSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVbaV0gPT09ICchaW1wb3J0YW50JykgYnJlYWs7XG4gICAgICBpZiAoY3NzVmFsdWUpIGNzc1ZhbHVlICs9ICcsICc7XG4gICAgICBjc3NWYWx1ZSArPSBqb2luKHZhbHVlW2ldLCAnICcpO1xuICAgIH1cbiAgfSBlbHNlIGNzc1ZhbHVlID0gam9pbih2YWx1ZSwgJywgJyk7IC8vIEFkZCAhaW1wb3J0YW50LCBiZWNhdXNlIGl0IHdhcyBpZ25vcmVkLlxuXG5cbiAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdID09PSAnIWltcG9ydGFudCcpIHtcbiAgICBjc3NWYWx1ZSArPSAnICFpbXBvcnRhbnQnO1xuICB9XG5cbiAgcmV0dXJuIGNzc1ZhbHVlO1xufTtcblxuZnVuY3Rpb24gZ2V0V2hpdGVzcGFjZVN5bWJvbHMob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmZvcm1hdCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluZWJyZWFrOiAnJyxcbiAgICAgIHNwYWNlOiAnJ1xuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxpbmVicmVhazogJ1xcbicsXG4gICAgc3BhY2U6ICcgJ1xuICB9O1xufVxuXG4vKipcbiAqIEluZGVudCBhIHN0cmluZy5cbiAqIGh0dHA6Ly9qc3BlcmYuY29tL2FycmF5LWpvaW4tdnMtZm9yXG4gKi9cblxuZnVuY3Rpb24gaW5kZW50U3RyKHN0ciwgaW5kZW50KSB7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgaW5kZW50OyBpbmRleCsrKSB7XG4gICAgcmVzdWx0ICs9ICcgICc7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0ICsgc3RyO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIFJ1bGUgdG8gQ1NTIHN0cmluZy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHRvQ3NzKHNlbGVjdG9yLCBzdHlsZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAoIXN0eWxlKSByZXR1cm4gcmVzdWx0O1xuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgX29wdGlvbnMkaW5kZW50ID0gX29wdGlvbnMuaW5kZW50LFxuICAgICAgaW5kZW50ID0gX29wdGlvbnMkaW5kZW50ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkaW5kZW50O1xuICB2YXIgZmFsbGJhY2tzID0gc3R5bGUuZmFsbGJhY2tzO1xuXG4gIGlmIChvcHRpb25zLmZvcm1hdCA9PT0gZmFsc2UpIHtcbiAgICBpbmRlbnQgPSAtSW5maW5pdHk7XG4gIH1cblxuICB2YXIgX2dldFdoaXRlc3BhY2VTeW1ib2xzID0gZ2V0V2hpdGVzcGFjZVN5bWJvbHMob3B0aW9ucyksXG4gICAgICBsaW5lYnJlYWsgPSBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMubGluZWJyZWFrLFxuICAgICAgc3BhY2UgPSBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMuc3BhY2U7XG5cbiAgaWYgKHNlbGVjdG9yKSBpbmRlbnQrKzsgLy8gQXBwbHkgZmFsbGJhY2tzIGZpcnN0LlxuXG4gIGlmIChmYWxsYmFja3MpIHtcbiAgICAvLyBBcnJheSBzeW50YXgge2ZhbGxiYWNrczogW3twcm9wOiB2YWx1ZX1dfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGZhbGxiYWNrcykpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBmYWxsYmFja3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBmYWxsYmFjayA9IGZhbGxiYWNrc1tpbmRleF07XG5cbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBmYWxsYmFjaykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGZhbGxiYWNrW3Byb3BdO1xuXG4gICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJlc3VsdCArPSBsaW5lYnJlYWs7XG4gICAgICAgICAgICByZXN1bHQgKz0gaW5kZW50U3RyKHByb3AgKyBcIjpcIiArIHNwYWNlICsgdG9Dc3NWYWx1ZSh2YWx1ZSkgKyBcIjtcIiwgaW5kZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT2JqZWN0IHN5bnRheCB7ZmFsbGJhY2tzOiB7cHJvcDogdmFsdWV9fVxuICAgICAgZm9yICh2YXIgX3Byb3AgaW4gZmFsbGJhY2tzKSB7XG4gICAgICAgIHZhciBfdmFsdWUgPSBmYWxsYmFja3NbX3Byb3BdO1xuXG4gICAgICAgIGlmIChfdmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHJlc3VsdCArPSBsaW5lYnJlYWs7XG4gICAgICAgICAgcmVzdWx0ICs9IGluZGVudFN0cihfcHJvcCArIFwiOlwiICsgc3BhY2UgKyB0b0Nzc1ZhbHVlKF92YWx1ZSkgKyBcIjtcIiwgaW5kZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIF9wcm9wMiBpbiBzdHlsZSkge1xuICAgIHZhciBfdmFsdWUyID0gc3R5bGVbX3Byb3AyXTtcblxuICAgIGlmIChfdmFsdWUyICE9IG51bGwgJiYgX3Byb3AyICE9PSAnZmFsbGJhY2tzJykge1xuICAgICAgaWYgKHJlc3VsdCkgcmVzdWx0ICs9IGxpbmVicmVhaztcbiAgICAgIHJlc3VsdCArPSBpbmRlbnRTdHIoX3Byb3AyICsgXCI6XCIgKyBzcGFjZSArIHRvQ3NzVmFsdWUoX3ZhbHVlMikgKyBcIjtcIiwgaW5kZW50KTtcbiAgICB9XG4gIH0gLy8gQWxsb3cgZW1wdHkgc3R5bGUgaW4gdGhpcyBjYXNlLCBiZWNhdXNlIHByb3BlcnRpZXMgd2lsbCBiZSBhZGRlZCBkeW5hbWljYWxseS5cblxuXG4gIGlmICghcmVzdWx0ICYmICFvcHRpb25zLmFsbG93RW1wdHkpIHJldHVybiByZXN1bHQ7IC8vIFdoZW4gcnVsZSBpcyBiZWluZyBzdHJpbmdpZmllZCBiZWZvcmUgc2VsZWN0b3Igd2FzIGRlZmluZWQuXG5cbiAgaWYgKCFzZWxlY3RvcikgcmV0dXJuIHJlc3VsdDtcbiAgaW5kZW50LS07XG4gIGlmIChyZXN1bHQpIHJlc3VsdCA9IFwiXCIgKyBsaW5lYnJlYWsgKyByZXN1bHQgKyBsaW5lYnJlYWs7XG4gIHJldHVybiBpbmRlbnRTdHIoXCJcIiArIHNlbGVjdG9yICsgc3BhY2UgKyBcIntcIiArIHJlc3VsdCwgaW5kZW50KSArIGluZGVudFN0cignfScsIGluZGVudCk7XG59XG5cbnZhciBlc2NhcGVSZWdleCA9IC8oW1tcXF0uIyokPjwrfj18XjooKSxcIidgXFxzXSkvZztcbnZhciBuYXRpdmVFc2NhcGUgPSB0eXBlb2YgQ1NTICE9PSAndW5kZWZpbmVkJyAmJiBDU1MuZXNjYXBlO1xudmFyIGVzY2FwZSA9IChmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBuYXRpdmVFc2NhcGUgPyBuYXRpdmVFc2NhcGUoc3RyKSA6IHN0ci5yZXBsYWNlKGVzY2FwZVJlZ2V4LCAnXFxcXCQxJyk7XG59KTtcblxudmFyIEJhc2VTdHlsZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCYXNlU3R5bGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAnc3R5bGUnO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB2YXIgc2hlZXQgPSBvcHRpb25zLnNoZWV0LFxuICAgICAgICBSZW5kZXJlciA9IG9wdGlvbnMuUmVuZGVyZXI7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgaWYgKHNoZWV0KSB0aGlzLnJlbmRlcmVyID0gc2hlZXQucmVuZGVyZXI7ZWxzZSBpZiAoUmVuZGVyZXIpIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IG9yIHNldCBhIHN0eWxlIHByb3BlcnR5LlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBCYXNlU3R5bGVSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucHJvcCA9IGZ1bmN0aW9uIHByb3AobmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAvLyBJdCdzIGEgZ2V0dGVyLlxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5zdHlsZVtuYW1lXTsgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhlIHZhbHVlIGhhcyBub3QgY2hhbmdlZC5cblxuICAgIHZhciBmb3JjZSA9IG9wdGlvbnMgPyBvcHRpb25zLmZvcmNlIDogZmFsc2U7XG4gICAgaWYgKCFmb3JjZSAmJiB0aGlzLnN0eWxlW25hbWVdID09PSB2YWx1ZSkgcmV0dXJuIHRoaXM7XG4gICAgdmFyIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5wcm9jZXNzICE9PSBmYWxzZSkge1xuICAgICAgbmV3VmFsdWUgPSB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25DaGFuZ2VWYWx1ZSh2YWx1ZSwgbmFtZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdmFyIGlzRW1wdHkgPSBuZXdWYWx1ZSA9PSBudWxsIHx8IG5ld1ZhbHVlID09PSBmYWxzZTtcbiAgICB2YXIgaXNEZWZpbmVkID0gbmFtZSBpbiB0aGlzLnN0eWxlOyAvLyBWYWx1ZSBpcyBlbXB0eSBhbmQgd2Fzbid0IGRlZmluZWQgYmVmb3JlLlxuXG4gICAgaWYgKGlzRW1wdHkgJiYgIWlzRGVmaW5lZCAmJiAhZm9yY2UpIHJldHVybiB0aGlzOyAvLyBXZSBhcmUgZ29pbmcgdG8gcmVtb3ZlIHRoaXMgdmFsdWUuXG5cbiAgICB2YXIgcmVtb3ZlID0gaXNFbXB0eSAmJiBpc0RlZmluZWQ7XG4gICAgaWYgKHJlbW92ZSkgZGVsZXRlIHRoaXMuc3R5bGVbbmFtZV07ZWxzZSB0aGlzLnN0eWxlW25hbWVdID0gbmV3VmFsdWU7IC8vIFJlbmRlcmFibGUgaXMgZGVmaW5lZCBpZiBTdHlsZVNoZWV0IG9wdGlvbiBgbGlua2AgaXMgdHJ1ZS5cblxuICAgIGlmICh0aGlzLnJlbmRlcmFibGUgJiYgdGhpcy5yZW5kZXJlcikge1xuICAgICAgaWYgKHJlbW92ZSkgdGhpcy5yZW5kZXJlci5yZW1vdmVQcm9wZXJ0eSh0aGlzLnJlbmRlcmFibGUsIG5hbWUpO2Vsc2UgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLnJlbmRlcmFibGUsIG5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBzaGVldCA9IHRoaXMub3B0aW9ucy5zaGVldDtcblxuICAgIGlmIChzaGVldCAmJiBzaGVldC5hdHRhY2hlZCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ1tKU1NdIFJ1bGUgaXMgbm90IGxpbmtlZC4gTWlzc2luZyBzaGVldCBvcHRpb24gXCJsaW5rOiB0cnVlXCIuJykgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEJhc2VTdHlsZVJ1bGU7XG59KCk7XG52YXIgU3R5bGVSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQmFzZVN0eWxlUnVsZSkge1xuICBfaW5oZXJpdHNMb29zZShTdHlsZVJ1bGUsIF9CYXNlU3R5bGVSdWxlKTtcblxuICBmdW5jdGlvbiBTdHlsZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX0Jhc2VTdHlsZVJ1bGUuY2FsbCh0aGlzLCBrZXksIHN0eWxlLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIHZhciBzZWxlY3RvciA9IG9wdGlvbnMuc2VsZWN0b3IsXG4gICAgICAgIHNjb3BlZCA9IG9wdGlvbnMuc2NvcGVkLFxuICAgICAgICBzaGVldCA9IG9wdGlvbnMuc2hlZXQsXG4gICAgICAgIGdlbmVyYXRlSWQgPSBvcHRpb25zLmdlbmVyYXRlSWQ7XG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIF90aGlzLnNlbGVjdG9yVGV4dCA9IHNlbGVjdG9yO1xuICAgIH0gZWxzZSBpZiAoc2NvcGVkICE9PSBmYWxzZSkge1xuICAgICAgX3RoaXMuaWQgPSBnZW5lcmF0ZUlkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBzaGVldCk7XG4gICAgICBfdGhpcy5zZWxlY3RvclRleHQgPSBcIi5cIiArIGVzY2FwZShfdGhpcy5pZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc2VsZWN0b3Igc3RyaW5nLlxuICAgKiBBdHRlbnRpb246IHVzZSB0aGlzIHdpdGggY2F1dGlvbi4gTW9zdCBicm93c2VycyBkaWRuJ3QgaW1wbGVtZW50XG4gICAqIHNlbGVjdG9yVGV4dCBzZXR0ZXIsIHNvIHRoaXMgbWF5IHJlc3VsdCBpbiByZXJlbmRlcmluZyBvZiBlbnRpcmUgU3R5bGUgU2hlZXQuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90bzIgPSBTdHlsZVJ1bGUucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBBcHBseSBydWxlIHRvIGFuIGVsZW1lbnQgaW5saW5lLlxuICAgKi9cbiAgX3Byb3RvMi5hcHBseVRvID0gZnVuY3Rpb24gYXBwbHlUbyhyZW5kZXJhYmxlKSB7XG4gICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgIGlmIChyZW5kZXJlcikge1xuICAgICAgdmFyIGpzb24gPSB0aGlzLnRvSlNPTigpO1xuXG4gICAgICBmb3IgKHZhciBwcm9wIGluIGpzb24pIHtcbiAgICAgICAgcmVuZGVyZXIuc2V0UHJvcGVydHkocmVuZGVyYWJsZSwgcHJvcCwganNvbltwcm9wXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgcnVsZS5cbiAgICogRmFsbGJhY2tzIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgKiBVc2VmdWwgZm9yIGlubGluZSBzdHlsZXMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvMi50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgdmFyIGpzb24gPSB7fTtcblxuICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5zdHlsZSkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdHlsZVtwcm9wXTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSBqc29uW3Byb3BdID0gdmFsdWU7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIGpzb25bcHJvcF0gPSB0b0Nzc1ZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8yLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHZhciBzaGVldCA9IHRoaXMub3B0aW9ucy5zaGVldDtcbiAgICB2YXIgbGluayA9IHNoZWV0ID8gc2hlZXQub3B0aW9ucy5saW5rIDogZmFsc2U7XG4gICAgdmFyIG9wdHMgPSBsaW5rID8gX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIGFsbG93RW1wdHk6IHRydWVcbiAgICB9KSA6IG9wdGlvbnM7XG4gICAgcmV0dXJuIHRvQ3NzKHRoaXMuc2VsZWN0b3JUZXh0LCB0aGlzLnN0eWxlLCBvcHRzKTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoU3R5bGVSdWxlLCBbe1xuICAgIGtleTogXCJzZWxlY3RvclwiLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHNlbGVjdG9yKSB7XG4gICAgICBpZiAoc2VsZWN0b3IgPT09IHRoaXMuc2VsZWN0b3JUZXh0KSByZXR1cm47XG4gICAgICB0aGlzLnNlbGVjdG9yVGV4dCA9IHNlbGVjdG9yO1xuICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcixcbiAgICAgICAgICByZW5kZXJhYmxlID0gdGhpcy5yZW5kZXJhYmxlO1xuICAgICAgaWYgKCFyZW5kZXJhYmxlIHx8ICFyZW5kZXJlcikgcmV0dXJuO1xuICAgICAgdmFyIGhhc0NoYW5nZWQgPSByZW5kZXJlci5zZXRTZWxlY3RvcihyZW5kZXJhYmxlLCBzZWxlY3Rvcik7IC8vIElmIHNlbGVjdG9yIHNldHRlciBpcyBub3QgaW1wbGVtZW50ZWQsIHJlcmVuZGVyIHRoZSBydWxlLlxuXG4gICAgICBpZiAoIWhhc0NoYW5nZWQpIHtcbiAgICAgICAgcmVuZGVyZXIucmVwbGFjZVJ1bGUocmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBzZWxlY3RvciBzdHJpbmcuXG4gICAgICovXG4gICAgLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3JUZXh0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHlsZVJ1bGU7XG59KEJhc2VTdHlsZVJ1bGUpO1xudmFyIHBsdWdpblN0eWxlUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIGlmIChrZXlbMF0gPT09ICdAJyB8fCBvcHRpb25zLnBhcmVudCAmJiBvcHRpb25zLnBhcmVudC50eXBlID09PSAna2V5ZnJhbWVzJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBTdHlsZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucyk7XG4gIH1cbn07XG5cbnZhciBkZWZhdWx0VG9TdHJpbmdPcHRpb25zID0ge1xuICBpbmRlbnQ6IDEsXG4gIGNoaWxkcmVuOiB0cnVlXG59O1xudmFyIGF0UmVnRXhwID0gL0AoW1xcdy1dKykvO1xuLyoqXG4gKiBDb25kaXRpb25hbCBydWxlIGZvciBAbWVkaWEsIEBzdXBwb3J0c1xuICovXG5cbnZhciBDb25kaXRpb25hbFJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb25kaXRpb25hbFJ1bGUoa2V5LCBzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAnY29uZGl0aW9uYWwnO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB2YXIgYXRNYXRjaCA9IGtleS5tYXRjaChhdFJlZ0V4cCk7XG4gICAgdGhpcy5hdCA9IGF0TWF0Y2ggPyBhdE1hdGNoWzFdIDogJ3Vua25vd24nOyAvLyBLZXkgbWlnaHQgY29udGFpbiBhIHVuaXF1ZSBzdWZmaXggaW4gY2FzZSB0aGUgYG5hbWVgIHBhc3NlZCBieSB1c2VyIHdhcyBkdXBsaWNhdGUuXG5cbiAgICB0aGlzLnF1ZXJ5ID0gb3B0aW9ucy5uYW1lIHx8IFwiQFwiICsgdGhpcy5hdDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMucnVsZXMgPSBuZXcgUnVsZUxpc3QoX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIHBhcmVudDogdGhpc1xuICAgIH0pKTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICB0aGlzLnJ1bGVzLmFkZChuYW1lLCBzdHlsZXNbbmFtZV0pO1xuICAgIH1cblxuICAgIHRoaXMucnVsZXMucHJvY2VzcygpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBydWxlLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBDb25kaXRpb25hbFJ1bGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5nZXRSdWxlID0gZnVuY3Rpb24gZ2V0UnVsZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuZ2V0KG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZihydWxlKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuaW5kZXhPZihydWxlKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuZCByZWdpc3RlciBydWxlLCBydW4gcGx1Z2lucy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkUnVsZSA9IGZ1bmN0aW9uIGFkZFJ1bGUobmFtZSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgcnVsZSA9IHRoaXMucnVsZXMuYWRkKG5hbWUsIHN0eWxlLCBvcHRpb25zKTtcbiAgICBpZiAoIXJ1bGUpIHJldHVybiBudWxsO1xuICAgIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKHJ1bGUpO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIHJ1bGUsIHJ1biBwbHVnaW5zLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXBsYWNlUnVsZSA9IGZ1bmN0aW9uIHJlcGxhY2VSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIG5ld1J1bGUgPSB0aGlzLnJ1bGVzLnJlcGxhY2UobmFtZSwgc3R5bGUsIG9wdGlvbnMpO1xuICAgIGlmIChuZXdSdWxlKSB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShuZXdSdWxlKTtcbiAgICByZXR1cm4gbmV3UnVsZTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRUb1N0cmluZ09wdGlvbnM7XG4gICAgfVxuXG4gICAgdmFyIF9nZXRXaGl0ZXNwYWNlU3ltYm9scyA9IGdldFdoaXRlc3BhY2VTeW1ib2xzKG9wdGlvbnMpLFxuICAgICAgICBsaW5lYnJlYWsgPSBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMubGluZWJyZWFrO1xuXG4gICAgaWYgKG9wdGlvbnMuaW5kZW50ID09IG51bGwpIG9wdGlvbnMuaW5kZW50ID0gZGVmYXVsdFRvU3RyaW5nT3B0aW9ucy5pbmRlbnQ7XG4gICAgaWYgKG9wdGlvbnMuY2hpbGRyZW4gPT0gbnVsbCkgb3B0aW9ucy5jaGlsZHJlbiA9IGRlZmF1bHRUb1N0cmluZ09wdGlvbnMuY2hpbGRyZW47XG5cbiAgICBpZiAob3B0aW9ucy5jaGlsZHJlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5ICsgXCIge31cIjtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnJ1bGVzLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHJldHVybiBjaGlsZHJlbiA/IHRoaXMucXVlcnkgKyBcIiB7XCIgKyBsaW5lYnJlYWsgKyBjaGlsZHJlbiArIGxpbmVicmVhayArIFwifVwiIDogJyc7XG4gIH07XG5cbiAgcmV0dXJuIENvbmRpdGlvbmFsUnVsZTtcbn0oKTtcbnZhciBrZXlSZWdFeHAgPSAvQG1lZGlhfEBzdXBwb3J0c1xccysvO1xudmFyIHBsdWdpbkNvbmRpdGlvbmFsUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5UmVnRXhwLnRlc3Qoa2V5KSA/IG5ldyBDb25kaXRpb25hbFJ1bGUoa2V5LCBzdHlsZXMsIG9wdGlvbnMpIDogbnVsbDtcbiAgfVxufTtcblxudmFyIGRlZmF1bHRUb1N0cmluZ09wdGlvbnMkMSA9IHtcbiAgaW5kZW50OiAxLFxuICBjaGlsZHJlbjogdHJ1ZVxufTtcbnZhciBuYW1lUmVnRXhwID0gL0BrZXlmcmFtZXNcXHMrKFtcXHctXSspLztcbi8qKlxuICogUnVsZSBmb3IgQGtleWZyYW1lc1xuICovXG5cbnZhciBLZXlmcmFtZXNSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gS2V5ZnJhbWVzUnVsZShrZXksIGZyYW1lcywgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdrZXlmcmFtZXMnO1xuICAgIHRoaXMuYXQgPSAnQGtleWZyYW1lcyc7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHZhciBuYW1lTWF0Y2ggPSBrZXkubWF0Y2gobmFtZVJlZ0V4cCk7XG5cbiAgICBpZiAobmFtZU1hdGNoICYmIG5hbWVNYXRjaFsxXSkge1xuICAgICAgdGhpcy5uYW1lID0gbmFtZU1hdGNoWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5hbWUgPSAnbm9uYW1lJztcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gQmFkIGtleWZyYW1lcyBuYW1lIFwiICsga2V5KSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICB0aGlzLmtleSA9IHRoaXMudHlwZSArIFwiLVwiICsgdGhpcy5uYW1lO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdmFyIHNjb3BlZCA9IG9wdGlvbnMuc2NvcGVkLFxuICAgICAgICBzaGVldCA9IG9wdGlvbnMuc2hlZXQsXG4gICAgICAgIGdlbmVyYXRlSWQgPSBvcHRpb25zLmdlbmVyYXRlSWQ7XG4gICAgdGhpcy5pZCA9IHNjb3BlZCA9PT0gZmFsc2UgPyB0aGlzLm5hbWUgOiBlc2NhcGUoZ2VuZXJhdGVJZCh0aGlzLCBzaGVldCkpO1xuICAgIHRoaXMucnVsZXMgPSBuZXcgUnVsZUxpc3QoX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIHBhcmVudDogdGhpc1xuICAgIH0pKTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gZnJhbWVzKSB7XG4gICAgICB0aGlzLnJ1bGVzLmFkZChuYW1lLCBmcmFtZXNbbmFtZV0sIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICAgIHBhcmVudDogdGhpc1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHRoaXMucnVsZXMucHJvY2VzcygpO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBDU1Mgc3RyaW5nLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBLZXlmcmFtZXNSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRUb1N0cmluZ09wdGlvbnMkMTtcbiAgICB9XG5cbiAgICB2YXIgX2dldFdoaXRlc3BhY2VTeW1ib2xzID0gZ2V0V2hpdGVzcGFjZVN5bWJvbHMob3B0aW9ucyksXG4gICAgICAgIGxpbmVicmVhayA9IF9nZXRXaGl0ZXNwYWNlU3ltYm9scy5saW5lYnJlYWs7XG5cbiAgICBpZiAob3B0aW9ucy5pbmRlbnQgPT0gbnVsbCkgb3B0aW9ucy5pbmRlbnQgPSBkZWZhdWx0VG9TdHJpbmdPcHRpb25zJDEuaW5kZW50O1xuICAgIGlmIChvcHRpb25zLmNoaWxkcmVuID09IG51bGwpIG9wdGlvbnMuY2hpbGRyZW4gPSBkZWZhdWx0VG9TdHJpbmdPcHRpb25zJDEuY2hpbGRyZW47XG5cbiAgICBpZiAob3B0aW9ucy5jaGlsZHJlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmF0ICsgXCIgXCIgKyB0aGlzLmlkICsgXCIge31cIjtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnJ1bGVzLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIGlmIChjaGlsZHJlbikgY2hpbGRyZW4gPSBcIlwiICsgbGluZWJyZWFrICsgY2hpbGRyZW4gKyBsaW5lYnJlYWs7XG4gICAgcmV0dXJuIHRoaXMuYXQgKyBcIiBcIiArIHRoaXMuaWQgKyBcIiB7XCIgKyBjaGlsZHJlbiArIFwifVwiO1xuICB9O1xuXG4gIHJldHVybiBLZXlmcmFtZXNSdWxlO1xufSgpO1xudmFyIGtleVJlZ0V4cCQxID0gL0BrZXlmcmFtZXNcXHMrLztcbnZhciByZWZSZWdFeHAgPSAvXFwkKFtcXHctXSspL2c7XG5cbnZhciBmaW5kUmVmZXJlbmNlZEtleWZyYW1lID0gZnVuY3Rpb24gZmluZFJlZmVyZW5jZWRLZXlmcmFtZSh2YWwsIGtleWZyYW1lcykge1xuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsLnJlcGxhY2UocmVmUmVnRXhwLCBmdW5jdGlvbiAobWF0Y2gsIG5hbWUpIHtcbiAgICAgIGlmIChuYW1lIGluIGtleWZyYW1lcykge1xuICAgICAgICByZXR1cm4ga2V5ZnJhbWVzW25hbWVdO1xuICAgICAgfVxuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFJlZmVyZW5jZWQga2V5ZnJhbWVzIHJ1bGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBub3QgZGVmaW5lZC5cIikgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufTtcbi8qKlxuICogUmVwbGFjZSB0aGUgcmVmZXJlbmNlIGZvciBhIGFuaW1hdGlvbiBuYW1lLlxuICovXG5cblxudmFyIHJlcGxhY2VSZWYgPSBmdW5jdGlvbiByZXBsYWNlUmVmKHN0eWxlLCBwcm9wLCBrZXlmcmFtZXMpIHtcbiAgdmFyIHZhbHVlID0gc3R5bGVbcHJvcF07XG4gIHZhciByZWZLZXlmcmFtZSA9IGZpbmRSZWZlcmVuY2VkS2V5ZnJhbWUodmFsdWUsIGtleWZyYW1lcyk7XG5cbiAgaWYgKHJlZktleWZyYW1lICE9PSB2YWx1ZSkge1xuICAgIHN0eWxlW3Byb3BdID0gcmVmS2V5ZnJhbWU7XG4gIH1cbn07XG5cbnZhciBwbHVnaW5LZXlmcmFtZXNSdWxlID0ge1xuICBvbkNyZWF0ZVJ1bGU6IGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShrZXksIGZyYW1lcywgb3B0aW9ucykge1xuICAgIHJldHVybiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXlSZWdFeHAkMS50ZXN0KGtleSkgPyBuZXcgS2V5ZnJhbWVzUnVsZShrZXksIGZyYW1lcywgb3B0aW9ucykgOiBudWxsO1xuICB9LFxuICAvLyBBbmltYXRpb24gbmFtZSByZWYgcmVwbGFjZXIuXG4gIG9uUHJvY2Vzc1N0eWxlOiBmdW5jdGlvbiBvblByb2Nlc3NTdHlsZShzdHlsZSwgcnVsZSwgc2hlZXQpIHtcbiAgICBpZiAocnVsZS50eXBlICE9PSAnc3R5bGUnIHx8ICFzaGVldCkgcmV0dXJuIHN0eWxlO1xuICAgIGlmICgnYW5pbWF0aW9uLW5hbWUnIGluIHN0eWxlKSByZXBsYWNlUmVmKHN0eWxlLCAnYW5pbWF0aW9uLW5hbWUnLCBzaGVldC5rZXlmcmFtZXMpO1xuICAgIGlmICgnYW5pbWF0aW9uJyBpbiBzdHlsZSkgcmVwbGFjZVJlZihzdHlsZSwgJ2FuaW1hdGlvbicsIHNoZWV0LmtleWZyYW1lcyk7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9LFxuICBvbkNoYW5nZVZhbHVlOiBmdW5jdGlvbiBvbkNoYW5nZVZhbHVlKHZhbCwgcHJvcCwgcnVsZSkge1xuICAgIHZhciBzaGVldCA9IHJ1bGUub3B0aW9ucy5zaGVldDtcblxuICAgIGlmICghc2hlZXQpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuXG4gICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICBjYXNlICdhbmltYXRpb24nOlxuICAgICAgICByZXR1cm4gZmluZFJlZmVyZW5jZWRLZXlmcmFtZSh2YWwsIHNoZWV0LmtleWZyYW1lcyk7XG5cbiAgICAgIGNhc2UgJ2FuaW1hdGlvbi1uYW1lJzpcbiAgICAgICAgcmV0dXJuIGZpbmRSZWZlcmVuY2VkS2V5ZnJhbWUodmFsLCBzaGVldC5rZXlmcmFtZXMpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfVxufTtcblxudmFyIEtleWZyYW1lUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0Jhc2VTdHlsZVJ1bGUpIHtcbiAgX2luaGVyaXRzTG9vc2UoS2V5ZnJhbWVSdWxlLCBfQmFzZVN0eWxlUnVsZSk7XG5cbiAgZnVuY3Rpb24gS2V5ZnJhbWVSdWxlKCkge1xuICAgIHJldHVybiBfQmFzZVN0eWxlUnVsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gS2V5ZnJhbWVSdWxlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICB2YXIgc2hlZXQgPSB0aGlzLm9wdGlvbnMuc2hlZXQ7XG4gICAgdmFyIGxpbmsgPSBzaGVldCA/IHNoZWV0Lm9wdGlvbnMubGluayA6IGZhbHNlO1xuICAgIHZhciBvcHRzID0gbGluayA/IF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBhbGxvd0VtcHR5OiB0cnVlXG4gICAgfSkgOiBvcHRpb25zO1xuICAgIHJldHVybiB0b0Nzcyh0aGlzLmtleSwgdGhpcy5zdHlsZSwgb3B0cyk7XG4gIH07XG5cbiAgcmV0dXJuIEtleWZyYW1lUnVsZTtcbn0oQmFzZVN0eWxlUnVsZSk7XG52YXIgcGx1Z2luS2V5ZnJhbWVSdWxlID0ge1xuICBvbkNyZWF0ZVJ1bGU6IGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LnR5cGUgPT09ICdrZXlmcmFtZXMnKSB7XG4gICAgICByZXR1cm4gbmV3IEtleWZyYW1lUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxudmFyIEZvbnRGYWNlUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZvbnRGYWNlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gJ2ZvbnQtZmFjZSc7XG4gICAgdGhpcy5hdCA9ICdAZm9udC1mYWNlJztcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEZvbnRGYWNlUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHZhciBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMgPSBnZXRXaGl0ZXNwYWNlU3ltYm9scyhvcHRpb25zKSxcbiAgICAgICAgbGluZWJyZWFrID0gX2dldFdoaXRlc3BhY2VTeW1ib2xzLmxpbmVicmVhaztcblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc3R5bGUpKSB7XG4gICAgICB2YXIgc3RyID0gJyc7XG5cbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnN0eWxlLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBzdHIgKz0gdG9Dc3ModGhpcy5hdCwgdGhpcy5zdHlsZVtpbmRleF0pO1xuICAgICAgICBpZiAodGhpcy5zdHlsZVtpbmRleCArIDFdKSBzdHIgKz0gbGluZWJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHJldHVybiB0b0Nzcyh0aGlzLmF0LCB0aGlzLnN0eWxlLCBvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gRm9udEZhY2VSdWxlO1xufSgpO1xudmFyIGtleVJlZ0V4cCQyID0gL0Bmb250LWZhY2UvO1xudmFyIHBsdWdpbkZvbnRGYWNlUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBrZXlSZWdFeHAkMi50ZXN0KGtleSkgPyBuZXcgRm9udEZhY2VSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIDogbnVsbDtcbiAgfVxufTtcblxudmFyIFZpZXdwb3J0UnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFZpZXdwb3J0UnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gJ3ZpZXdwb3J0JztcbiAgICB0aGlzLmF0ID0gJ0B2aWV3cG9ydCc7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBDU1Mgc3RyaW5nLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBWaWV3cG9ydFJ1bGUucHJvdG90eXBlO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9Dc3ModGhpcy5rZXksIHRoaXMuc3R5bGUsIG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBWaWV3cG9ydFJ1bGU7XG59KCk7XG52YXIgcGx1Z2luVmlld3BvcnRSdWxlID0ge1xuICBvbkNyZWF0ZVJ1bGU6IGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGtleSA9PT0gJ0B2aWV3cG9ydCcgfHwga2V5ID09PSAnQC1tcy12aWV3cG9ydCcgPyBuZXcgVmlld3BvcnRSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIDogbnVsbDtcbiAgfVxufTtcblxudmFyIFNpbXBsZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaW1wbGVSdWxlKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAnc2ltcGxlJztcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcblxuXG4gIHZhciBfcHJvdG8gPSBTaW1wbGVSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudmFsdWUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHN0ciArPSB0aGlzLmtleSArIFwiIFwiICsgdGhpcy52YWx1ZVtpbmRleF0gKyBcIjtcIjtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVbaW5kZXggKyAxXSkgc3RyICs9ICdcXG4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmtleSArIFwiIFwiICsgdGhpcy52YWx1ZSArIFwiO1wiO1xuICB9O1xuXG4gIHJldHVybiBTaW1wbGVSdWxlO1xufSgpO1xudmFyIGtleXNNYXAgPSB7XG4gICdAY2hhcnNldCc6IHRydWUsXG4gICdAaW1wb3J0JzogdHJ1ZSxcbiAgJ0BuYW1lc3BhY2UnOiB0cnVlXG59O1xudmFyIHBsdWdpblNpbXBsZVJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5IGluIGtleXNNYXAgPyBuZXcgU2ltcGxlUnVsZShrZXksIHZhbHVlLCBvcHRpb25zKSA6IG51bGw7XG4gIH1cbn07XG5cbnZhciBwbHVnaW5zID0gW3BsdWdpblN0eWxlUnVsZSwgcGx1Z2luQ29uZGl0aW9uYWxSdWxlLCBwbHVnaW5LZXlmcmFtZXNSdWxlLCBwbHVnaW5LZXlmcmFtZVJ1bGUsIHBsdWdpbkZvbnRGYWNlUnVsZSwgcGx1Z2luVmlld3BvcnRSdWxlLCBwbHVnaW5TaW1wbGVSdWxlXTtcblxudmFyIGRlZmF1bHRVcGRhdGVPcHRpb25zID0ge1xuICBwcm9jZXNzOiB0cnVlXG59O1xudmFyIGZvcmNlVXBkYXRlT3B0aW9ucyA9IHtcbiAgZm9yY2U6IHRydWUsXG4gIHByb2Nlc3M6IHRydWVcbiAgLyoqXG4gICAqIENvbnRhaW5zIHJ1bGVzIG9iamVjdHMgYW5kIGFsbG93cyBhZGRpbmcvcmVtb3ZpbmcgZXRjLlxuICAgKiBJcyB1c2VkIGZvciBlLmcuIGJ5IGBTdHlsZVNoZWV0YCBvciBgQ29uZGl0aW9uYWxSdWxlYC5cbiAgICovXG5cbn07XG5cbnZhciBSdWxlTGlzdCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8vIFJ1bGVzIHJlZ2lzdHJ5IGZvciBhY2Nlc3MgYnkgLmdldCgpIG1ldGhvZC5cbiAgLy8gSXQgY29udGFpbnMgdGhlIHNhbWUgcnVsZSByZWdpc3RlcmVkIGJ5IG5hbWUgYW5kIGJ5IHNlbGVjdG9yLlxuICAvLyBPcmlnaW5hbCBzdHlsZXMgb2JqZWN0LlxuICAvLyBVc2VkIHRvIGVuc3VyZSBjb3JyZWN0IHJ1bGVzIG9yZGVyLlxuICBmdW5jdGlvbiBSdWxlTGlzdChvcHRpb25zKSB7XG4gICAgdGhpcy5tYXAgPSB7fTtcbiAgICB0aGlzLnJhdyA9IHt9O1xuICAgIHRoaXMuaW5kZXggPSBbXTtcbiAgICB0aGlzLmNvdW50ZXIgPSAwO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5jbGFzc2VzID0gb3B0aW9ucy5jbGFzc2VzO1xuICAgIHRoaXMua2V5ZnJhbWVzID0gb3B0aW9ucy5rZXlmcmFtZXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgcnVsZS5cbiAgICpcbiAgICogV2lsbCBub3QgcmVuZGVyIGFmdGVyIFN0eWxlIFNoZWV0IHdhcyByZW5kZXJlZCB0aGUgZmlyc3QgdGltZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gUnVsZUxpc3QucHJvdG90eXBlO1xuXG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgZGVjbCwgcnVsZU9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMkb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgcGFyZW50ID0gX3RoaXMkb3B0aW9ucy5wYXJlbnQsXG4gICAgICAgIHNoZWV0ID0gX3RoaXMkb3B0aW9ucy5zaGVldCxcbiAgICAgICAganNzID0gX3RoaXMkb3B0aW9ucy5qc3MsXG4gICAgICAgIFJlbmRlcmVyID0gX3RoaXMkb3B0aW9ucy5SZW5kZXJlcixcbiAgICAgICAgZ2VuZXJhdGVJZCA9IF90aGlzJG9wdGlvbnMuZ2VuZXJhdGVJZCxcbiAgICAgICAgc2NvcGVkID0gX3RoaXMkb3B0aW9ucy5zY29wZWQ7XG5cbiAgICB2YXIgb3B0aW9ucyA9IF9leHRlbmRzKHtcbiAgICAgIGNsYXNzZXM6IHRoaXMuY2xhc3NlcyxcbiAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgc2hlZXQ6IHNoZWV0LFxuICAgICAganNzOiBqc3MsXG4gICAgICBSZW5kZXJlcjogUmVuZGVyZXIsXG4gICAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkLFxuICAgICAgc2NvcGVkOiBzY29wZWQsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAga2V5ZnJhbWVzOiB0aGlzLmtleWZyYW1lcyxcbiAgICAgIHNlbGVjdG9yOiB1bmRlZmluZWRcbiAgICB9LCBydWxlT3B0aW9ucyk7IC8vIFdoZW4gdXNlciB1c2VzIC5jcmVhdGVTdHlsZVNoZWV0KCksIGR1cGxpY2F0ZSBuYW1lcyBhcmUgbm90IHBvc3NpYmxlLCBidXRcbiAgICAvLyBgc2hlZXQuYWRkUnVsZSgpYCBvcGVucyB0aGUgZG9vciBmb3IgYW55IGR1cGxpY2F0ZSBydWxlIG5hbWUuIFdoZW4gdGhpcyBoYXBwZW5zXG4gICAgLy8gd2UgbmVlZCB0byBtYWtlIHRoZSBrZXkgdW5pcXVlIHdpdGhpbiB0aGlzIFJ1bGVMaXN0IGluc3RhbmNlIHNjb3BlLlxuXG5cbiAgICB2YXIga2V5ID0gbmFtZTtcblxuICAgIGlmIChuYW1lIGluIHRoaXMucmF3KSB7XG4gICAgICBrZXkgPSBuYW1lICsgXCItZFwiICsgdGhpcy5jb3VudGVyKys7XG4gICAgfSAvLyBXZSBuZWVkIHRvIHNhdmUgdGhlIG9yaWdpbmFsIGRlY2wgYmVmb3JlIGNyZWF0aW5nIHRoZSBydWxlXG4gICAgLy8gYmVjYXVzZSBjYWNoZSBwbHVnaW4gbmVlZHMgdG8gdXNlIGl0IGFzIGEga2V5IHRvIHJldHVybiBhIGNhY2hlZCBydWxlLlxuXG5cbiAgICB0aGlzLnJhd1trZXldID0gZGVjbDtcblxuICAgIGlmIChrZXkgaW4gdGhpcy5jbGFzc2VzKSB7XG4gICAgICAvLyBFLmcuIHJ1bGVzIGluc2lkZSBvZiBAbWVkaWEgY29udGFpbmVyXG4gICAgICBvcHRpb25zLnNlbGVjdG9yID0gXCIuXCIgKyBlc2NhcGUodGhpcy5jbGFzc2VzW2tleV0pO1xuICAgIH1cblxuICAgIHZhciBydWxlID0gY3JlYXRlUnVsZShrZXksIGRlY2wsIG9wdGlvbnMpO1xuICAgIGlmICghcnVsZSkgcmV0dXJuIG51bGw7XG4gICAgdGhpcy5yZWdpc3RlcihydWxlKTtcbiAgICB2YXIgaW5kZXggPSBvcHRpb25zLmluZGV4ID09PSB1bmRlZmluZWQgPyB0aGlzLmluZGV4Lmxlbmd0aCA6IG9wdGlvbnMuaW5kZXg7XG4gICAgdGhpcy5pbmRleC5zcGxpY2UoaW5kZXgsIDAsIHJ1bGUpO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIHJ1bGUuXG4gICAqIENyZWF0ZSBhIG5ldyBydWxlIGFuZCByZW1vdmUgb2xkIG9uZSBpbnN0ZWFkIG9mIG92ZXJ3cml0aW5nXG4gICAqIGJlY2F1c2Ugd2Ugd2FudCB0byBpbnZva2Ugb25DcmVhdGVSdWxlIGhvb2sgdG8gbWFrZSBwbHVnaW5zIHdvcmsuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKG5hbWUsIGRlY2wsIHJ1bGVPcHRpb25zKSB7XG4gICAgdmFyIG9sZFJ1bGUgPSB0aGlzLmdldChuYW1lKTtcbiAgICB2YXIgb2xkSW5kZXggPSB0aGlzLmluZGV4LmluZGV4T2Yob2xkUnVsZSk7XG5cbiAgICBpZiAob2xkUnVsZSkge1xuICAgICAgdGhpcy5yZW1vdmUob2xkUnVsZSk7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSBydWxlT3B0aW9ucztcbiAgICBpZiAob2xkSW5kZXggIT09IC0xKSBvcHRpb25zID0gX2V4dGVuZHMoe30sIHJ1bGVPcHRpb25zLCB7XG4gICAgICBpbmRleDogb2xkSW5kZXhcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5hZGQobmFtZSwgZGVjbCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHJ1bGUgYnkgbmFtZSBvciBzZWxlY3Rvci5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0ID0gZnVuY3Rpb24gZ2V0KG5hbWVPclNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwW25hbWVPclNlbGVjdG9yXTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKHJ1bGUpIHtcbiAgICB0aGlzLnVucmVnaXN0ZXIocnVsZSk7XG4gICAgZGVsZXRlIHRoaXMucmF3W3J1bGUua2V5XTtcbiAgICB0aGlzLmluZGV4LnNwbGljZSh0aGlzLmluZGV4LmluZGV4T2YocnVsZSksIDEpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZihydWxlKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXguaW5kZXhPZihydWxlKTtcbiAgfVxuICAvKipcbiAgICogUnVuIGBvblByb2Nlc3NSdWxlKClgIHBsdWdpbnMgb24gZXZlcnkgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgdmFyIHBsdWdpbnMgPSB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnM7IC8vIFdlIG5lZWQgdG8gY2xvbmUgYXJyYXkgYmVjYXVzZSBpZiB3ZSBtb2RpZnkgdGhlIGluZGV4IHNvbWV3aGVyZSBlbHNlIGR1cmluZyBhIGxvb3BcbiAgICAvLyB3ZSBlbmQgdXAgd2l0aCB2ZXJ5IGhhcmQtdG8tdHJhY2stZG93biBzaWRlIGVmZmVjdHMuXG5cbiAgICB0aGlzLmluZGV4LnNsaWNlKDApLmZvckVhY2gocGx1Z2lucy5vblByb2Nlc3NSdWxlLCBwbHVnaW5zKTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBydWxlIGluIGAubWFwYCwgYC5jbGFzc2VzYCBhbmQgYC5rZXlmcmFtZXNgIG1hcHMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIocnVsZSkge1xuICAgIHRoaXMubWFwW3J1bGUua2V5XSA9IHJ1bGU7XG5cbiAgICBpZiAocnVsZSBpbnN0YW5jZW9mIFN0eWxlUnVsZSkge1xuICAgICAgdGhpcy5tYXBbcnVsZS5zZWxlY3Rvcl0gPSBydWxlO1xuICAgICAgaWYgKHJ1bGUuaWQpIHRoaXMuY2xhc3Nlc1tydWxlLmtleV0gPSBydWxlLmlkO1xuICAgIH0gZWxzZSBpZiAocnVsZSBpbnN0YW5jZW9mIEtleWZyYW1lc1J1bGUgJiYgdGhpcy5rZXlmcmFtZXMpIHtcbiAgICAgIHRoaXMua2V5ZnJhbWVzW3J1bGUubmFtZV0gPSBydWxlLmlkO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVW5yZWdpc3RlciBhIHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyKHJ1bGUpIHtcbiAgICBkZWxldGUgdGhpcy5tYXBbcnVsZS5rZXldO1xuXG4gICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBTdHlsZVJ1bGUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm1hcFtydWxlLnNlbGVjdG9yXTtcbiAgICAgIGRlbGV0ZSB0aGlzLmNsYXNzZXNbcnVsZS5rZXldO1xuICAgIH0gZWxzZSBpZiAocnVsZSBpbnN0YW5jZW9mIEtleWZyYW1lc1J1bGUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmtleWZyYW1lc1tydWxlLm5hbWVdO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBmdW5jdGlvbiB2YWx1ZXMgd2l0aCBhIG5ldyBkYXRhLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIG5hbWU7XG4gICAgdmFyIGRhdGE7XG4gICAgdmFyIG9wdGlvbnM7XG5cbiAgICBpZiAodHlwZW9mIChhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0pID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXTtcbiAgICAgIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV07XG4gICAgICBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdO1xuICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXTtcbiAgICAgIG5hbWUgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChuYW1lKSB7XG4gICAgICB0aGlzLnVwZGF0ZU9uZSh0aGlzLmdldChuYW1lKSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmluZGV4Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB0aGlzLnVwZGF0ZU9uZSh0aGlzLmluZGV4W2luZGV4XSwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIHBsdWdpbnMsIHVwZGF0ZSBydWxlIHByb3BzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGVPbmUgPSBmdW5jdGlvbiB1cGRhdGVPbmUocnVsZSwgZGF0YSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0VXBkYXRlT3B0aW9ucztcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMkb3B0aW9uczIgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHBsdWdpbnMgPSBfdGhpcyRvcHRpb25zMi5qc3MucGx1Z2lucyxcbiAgICAgICAgc2hlZXQgPSBfdGhpcyRvcHRpb25zMi5zaGVldDsgLy8gSXQgaXMgYSBydWxlcyBjb250YWluZXIgbGlrZSBmb3IgZS5nLiBDb25kaXRpb25hbFJ1bGUuXG5cbiAgICBpZiAocnVsZS5ydWxlcyBpbnN0YW5jZW9mIFJ1bGVMaXN0KSB7XG4gICAgICBydWxlLnJ1bGVzLnVwZGF0ZShkYXRhLCBvcHRpb25zKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGUgPSBydWxlLnN0eWxlO1xuICAgIHBsdWdpbnMub25VcGRhdGUoZGF0YSwgcnVsZSwgc2hlZXQsIG9wdGlvbnMpOyAvLyBXZSByZWx5IG9uIGEgbmV3IGBzdHlsZWAgcmVmIGluIGNhc2UgaXQgd2FzIG11dGF0ZWQgZHVyaW5nIG9uVXBkYXRlIGhvb2suXG5cbiAgICBpZiAob3B0aW9ucy5wcm9jZXNzICYmIHN0eWxlICYmIHN0eWxlICE9PSBydWxlLnN0eWxlKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIHJ1biB0aGUgcGx1Z2lucyBpbiBjYXNlIG5ldyBgc3R5bGVgIHJlbGllcyBvbiBzeW50YXggcGx1Z2lucy5cbiAgICAgIHBsdWdpbnMub25Qcm9jZXNzU3R5bGUocnVsZS5zdHlsZSwgcnVsZSwgc2hlZXQpOyAvLyBVcGRhdGUgYW5kIGFkZCBwcm9wcy5cblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBydWxlLnN0eWxlKSB7XG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBydWxlLnN0eWxlW3Byb3BdO1xuICAgICAgICB2YXIgcHJldlZhbHVlID0gc3R5bGVbcHJvcF07IC8vIFdlIG5lZWQgdG8gdXNlIGBmb3JjZTogdHJ1ZWAgYmVjYXVzZSBgcnVsZS5zdHlsZWAgaGFzIGJlZW4gdXBkYXRlZCBkdXJpbmcgb25VcGRhdGUgaG9vaywgc28gYHJ1bGUucHJvcCgpYCB3aWxsIG5vdCB1cGRhdGUgdGhlIENTU09NIHJ1bGUuXG4gICAgICAgIC8vIFdlIGRvIHRoaXMgY29tcGFyaXNvbiB0byBhdm9pZCB1bm5lZWRlZCBgcnVsZS5wcm9wKClgIGNhbGxzLCBzaW5jZSB3ZSBoYXZlIHRoZSBvbGQgYHN0eWxlYCBvYmplY3QgaGVyZS5cblxuICAgICAgICBpZiAobmV4dFZhbHVlICE9PSBwcmV2VmFsdWUpIHtcbiAgICAgICAgICBydWxlLnByb3AocHJvcCwgbmV4dFZhbHVlLCBmb3JjZVVwZGF0ZU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9IC8vIFJlbW92ZSBwcm9wcy5cblxuXG4gICAgICBmb3IgKHZhciBfcHJvcCBpbiBzdHlsZSkge1xuICAgICAgICB2YXIgX25leHRWYWx1ZSA9IHJ1bGUuc3R5bGVbX3Byb3BdO1xuICAgICAgICB2YXIgX3ByZXZWYWx1ZSA9IHN0eWxlW19wcm9wXTsgLy8gV2UgbmVlZCB0byB1c2UgYGZvcmNlOiB0cnVlYCBiZWNhdXNlIGBydWxlLnN0eWxlYCBoYXMgYmVlbiB1cGRhdGVkIGR1cmluZyBvblVwZGF0ZSBob29rLCBzbyBgcnVsZS5wcm9wKClgIHdpbGwgbm90IHVwZGF0ZSB0aGUgQ1NTT00gcnVsZS5cbiAgICAgICAgLy8gV2UgZG8gdGhpcyBjb21wYXJpc29uIHRvIGF2b2lkIHVubmVlZGVkIGBydWxlLnByb3AoKWAgY2FsbHMsIHNpbmNlIHdlIGhhdmUgdGhlIG9sZCBgc3R5bGVgIG9iamVjdCBoZXJlLlxuXG4gICAgICAgIGlmIChfbmV4dFZhbHVlID09IG51bGwgJiYgX25leHRWYWx1ZSAhPT0gX3ByZXZWYWx1ZSkge1xuICAgICAgICAgIHJ1bGUucHJvcChfcHJvcCwgbnVsbCwgZm9yY2VVcGRhdGVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29udmVydCBydWxlcyB0byBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgc2hlZXQgPSB0aGlzLm9wdGlvbnMuc2hlZXQ7XG4gICAgdmFyIGxpbmsgPSBzaGVldCA/IHNoZWV0Lm9wdGlvbnMubGluayA6IGZhbHNlO1xuXG4gICAgdmFyIF9nZXRXaGl0ZXNwYWNlU3ltYm9scyA9IGdldFdoaXRlc3BhY2VTeW1ib2xzKG9wdGlvbnMpLFxuICAgICAgICBsaW5lYnJlYWsgPSBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMubGluZWJyZWFrO1xuXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaW5kZXgubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgcnVsZSA9IHRoaXMuaW5kZXhbaW5kZXhdO1xuICAgICAgdmFyIGNzcyA9IHJ1bGUudG9TdHJpbmcob3B0aW9ucyk7IC8vIE5vIG5lZWQgdG8gcmVuZGVyIGFuIGVtcHR5IHJ1bGUuXG5cbiAgICAgIGlmICghY3NzICYmICFsaW5rKSBjb250aW51ZTtcbiAgICAgIGlmIChzdHIpIHN0ciArPSBsaW5lYnJlYWs7XG4gICAgICBzdHIgKz0gY3NzO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgcmV0dXJuIFJ1bGVMaXN0O1xufSgpO1xuXG52YXIgU3R5bGVTaGVldCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxlU2hlZXQoc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgdGhpcy5hdHRhY2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVwbG95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsYXNzZXMgPSB7fTtcbiAgICB0aGlzLmtleWZyYW1lcyA9IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBzaGVldDogdGhpcyxcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIGNsYXNzZXM6IHRoaXMuY2xhc3NlcyxcbiAgICAgIGtleWZyYW1lczogdGhpcy5rZXlmcmFtZXNcbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zLlJlbmRlcmVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IG9wdGlvbnMuUmVuZGVyZXIodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcyA9IG5ldyBSdWxlTGlzdCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdHlsZXMpIHtcbiAgICAgIHRoaXMucnVsZXMuYWRkKG5hbWUsIHN0eWxlc1tuYW1lXSk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcy5wcm9jZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCByZW5kZXJhYmxlIHRvIHRoZSByZW5kZXIgdHJlZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gU3R5bGVTaGVldC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmF0dGFjaCA9IGZ1bmN0aW9uIGF0dGFjaCgpIHtcbiAgICBpZiAodGhpcy5hdHRhY2hlZCkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHRoaXMucmVuZGVyZXIuYXR0YWNoKCk7XG4gICAgdGhpcy5hdHRhY2hlZCA9IHRydWU7IC8vIE9yZGVyIGlzIGltcG9ydGFudCwgYmVjYXVzZSB3ZSBjYW4ndCB1c2UgaW5zZXJ0UnVsZSBBUEkgaWYgc3R5bGUgZWxlbWVudCBpcyBub3QgYXR0YWNoZWQuXG5cbiAgICBpZiAoIXRoaXMuZGVwbG95ZWQpIHRoaXMuZGVwbG95KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSByZW5kZXJhYmxlIGZyb20gcmVuZGVyIHRyZWUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRldGFjaCA9IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICBpZiAoIXRoaXMuYXR0YWNoZWQpIHJldHVybiB0aGlzO1xuICAgIGlmICh0aGlzLnJlbmRlcmVyKSB0aGlzLnJlbmRlcmVyLmRldGFjaCgpO1xuICAgIHRoaXMuYXR0YWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkIGEgcnVsZSB0byB0aGUgY3VycmVudCBzdHlsZXNoZWV0LlxuICAgKiBXaWxsIGluc2VydCBhIHJ1bGUgYWxzbyBhZnRlciB0aGUgc3R5bGVzaGVldCBoYXMgYmVlbiByZW5kZXJlZCBmaXJzdCB0aW1lLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRSdWxlID0gZnVuY3Rpb24gYWRkUnVsZShuYW1lLCBkZWNsLCBvcHRpb25zKSB7XG4gICAgdmFyIHF1ZXVlID0gdGhpcy5xdWV1ZTsgLy8gUGx1Z2lucyBjYW4gY3JlYXRlIHJ1bGVzLlxuICAgIC8vIEluIG9yZGVyIHRvIHByZXNlcnZlIHRoZSByaWdodCBvcmRlciwgd2UgbmVlZCB0byBxdWV1ZSBhbGwgYC5hZGRSdWxlYCBjYWxscyxcbiAgICAvLyB3aGljaCBoYXBwZW4gYWZ0ZXIgdGhlIGZpcnN0IGBydWxlcy5hZGQoKWAgY2FsbC5cblxuICAgIGlmICh0aGlzLmF0dGFjaGVkICYmICFxdWV1ZSkgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHZhciBydWxlID0gdGhpcy5ydWxlcy5hZGQobmFtZSwgZGVjbCwgb3B0aW9ucyk7XG4gICAgaWYgKCFydWxlKSByZXR1cm4gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShydWxlKTtcblxuICAgIGlmICh0aGlzLmF0dGFjaGVkKSB7XG4gICAgICBpZiAoIXRoaXMuZGVwbG95ZWQpIHJldHVybiBydWxlOyAvLyBEb24ndCBpbnNlcnQgcnVsZSBkaXJlY3RseSBpZiB0aGVyZSBpcyBubyBzdHJpbmdpZmllZCB2ZXJzaW9uIHlldC5cbiAgICAgIC8vIEl0IHdpbGwgYmUgaW5zZXJ0ZWQgYWxsIHRvZ2V0aGVyIHdoZW4gLmF0dGFjaCBpcyBjYWxsZWQuXG5cbiAgICAgIGlmIChxdWV1ZSkgcXVldWUucHVzaChydWxlKTtlbHNlIHtcbiAgICAgICAgdGhpcy5pbnNlcnRSdWxlKHJ1bGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgdGhpcy5xdWV1ZS5mb3JFYWNoKHRoaXMuaW5zZXJ0UnVsZSwgdGhpcyk7XG4gICAgICAgICAgdGhpcy5xdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfSAvLyBXZSBjYW4ndCBhZGQgcnVsZXMgdG8gYSBkZXRhY2hlZCBzdHlsZSBub2RlLlxuICAgIC8vIFdlIHdpbGwgcmVkZXBsb3kgdGhlIHNoZWV0IG9uY2UgdXNlciB3aWxsIGF0dGFjaCBpdC5cblxuXG4gICAgdGhpcy5kZXBsb3llZCA9IGZhbHNlO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIGEgcnVsZSBpbiB0aGUgY3VycmVudCBzdHlsZXNoZWV0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXBsYWNlUnVsZSA9IGZ1bmN0aW9uIHJlcGxhY2VSdWxlKG5hbWVPclNlbGVjdG9yLCBkZWNsLCBvcHRpb25zKSB7XG4gICAgdmFyIG9sZFJ1bGUgPSB0aGlzLnJ1bGVzLmdldChuYW1lT3JTZWxlY3Rvcik7XG4gICAgaWYgKCFvbGRSdWxlKSByZXR1cm4gdGhpcy5hZGRSdWxlKG5hbWVPclNlbGVjdG9yLCBkZWNsLCBvcHRpb25zKTtcbiAgICB2YXIgbmV3UnVsZSA9IHRoaXMucnVsZXMucmVwbGFjZShuYW1lT3JTZWxlY3RvciwgZGVjbCwgb3B0aW9ucyk7XG5cbiAgICBpZiAobmV3UnVsZSkge1xuICAgICAgdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUobmV3UnVsZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXR0YWNoZWQpIHtcbiAgICAgIGlmICghdGhpcy5kZXBsb3llZCkgcmV0dXJuIG5ld1J1bGU7IC8vIERvbid0IHJlcGxhY2UgLyBkZWxldGUgcnVsZSBkaXJlY3RseSBpZiB0aGVyZSBpcyBubyBzdHJpbmdpZmllZCB2ZXJzaW9uIHlldC5cbiAgICAgIC8vIEl0IHdpbGwgYmUgaW5zZXJ0ZWQgYWxsIHRvZ2V0aGVyIHdoZW4gLmF0dGFjaCBpcyBjYWxsZWQuXG5cbiAgICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICAgIGlmICghbmV3UnVsZSkge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZGVsZXRlUnVsZShvbGRSdWxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChvbGRSdWxlLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlcGxhY2VSdWxlKG9sZFJ1bGUucmVuZGVyYWJsZSwgbmV3UnVsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld1J1bGU7XG4gICAgfSAvLyBXZSBjYW4ndCByZXBsYWNlIHJ1bGVzIHRvIGEgZGV0YWNoZWQgc3R5bGUgbm9kZS5cbiAgICAvLyBXZSB3aWxsIHJlZGVwbG95IHRoZSBzaGVldCBvbmNlIHVzZXIgd2lsbCBhdHRhY2ggaXQuXG5cblxuICAgIHRoaXMuZGVwbG95ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbmV3UnVsZTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHJ1bGUgaW50byB0aGUgU3R5bGVTaGVldFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbnNlcnRSdWxlID0gZnVuY3Rpb24gaW5zZXJ0UnVsZShydWxlKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0UnVsZShydWxlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgYWRkIHJ1bGVzLlxuICAgKiBXaWxsIHJlbmRlciBhbHNvIGFmdGVyIFN0eWxlIFNoZWV0IHdhcyByZW5kZXJlZCB0aGUgZmlyc3QgdGltZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uYWRkUnVsZXMgPSBmdW5jdGlvbiBhZGRSdWxlcyhzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICB2YXIgYWRkZWQgPSBbXTtcblxuICAgIGZvciAodmFyIG5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICB2YXIgcnVsZSA9IHRoaXMuYWRkUnVsZShuYW1lLCBzdHlsZXNbbmFtZV0sIG9wdGlvbnMpO1xuICAgICAgaWYgKHJ1bGUpIGFkZGVkLnB1c2gocnVsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZGVkO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBydWxlIGJ5IG5hbWUgb3Igc2VsZWN0b3IuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFJ1bGUgPSBmdW5jdGlvbiBnZXRSdWxlKG5hbWVPclNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuZ2V0KG5hbWVPclNlbGVjdG9yKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgcnVsZSBieSBuYW1lLlxuICAgKiBSZXR1cm5zIGB0cnVlYDogaWYgcnVsZSBoYXMgYmVlbiBkZWxldGVkIGZyb20gdGhlIERPTS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGVsZXRlUnVsZSA9IGZ1bmN0aW9uIGRlbGV0ZVJ1bGUobmFtZSkge1xuICAgIHZhciBydWxlID0gdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnID8gbmFtZSA6IHRoaXMucnVsZXMuZ2V0KG5hbWUpO1xuXG4gICAgaWYgKCFydWxlIHx8IC8vIFN0eWxlIHNoZWV0IHdhcyBjcmVhdGVkIHdpdGhvdXQgbGluazogdHJ1ZSBhbmQgYXR0YWNoZWQsIGluIHRoaXMgY2FzZSB3ZVxuICAgIC8vIHdvbid0IGJlIGFibGUgdG8gcmVtb3ZlIHRoZSBDU1MgcnVsZSBmcm9tIHRoZSBET00uXG4gICAgdGhpcy5hdHRhY2hlZCAmJiAhcnVsZS5yZW5kZXJhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcy5yZW1vdmUocnVsZSk7XG5cbiAgICBpZiAodGhpcy5hdHRhY2hlZCAmJiBydWxlLnJlbmRlcmFibGUgJiYgdGhpcy5yZW5kZXJlcikge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZGVsZXRlUnVsZShydWxlLnJlbmRlcmFibGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZihydWxlKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuaW5kZXhPZihydWxlKTtcbiAgfVxuICAvKipcbiAgICogRGVwbG95IHB1cmUgQ1NTIHN0cmluZyB0byBhIHJlbmRlcmFibGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRlcGxveSA9IGZ1bmN0aW9uIGRlcGxveSgpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlcikgdGhpcy5yZW5kZXJlci5kZXBsb3koKTtcbiAgICB0aGlzLmRlcGxveWVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBmdW5jdGlvbiB2YWx1ZXMgd2l0aCBhIG5ldyBkYXRhLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIF90aGlzJHJ1bGVzO1xuXG4gICAgKF90aGlzJHJ1bGVzID0gdGhpcy5ydWxlcykudXBkYXRlLmFwcGx5KF90aGlzJHJ1bGVzLCBhcmd1bWVudHMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBzaW5nbGUgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlT25lID0gZnVuY3Rpb24gdXBkYXRlT25lKHJ1bGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJ1bGVzLnVwZGF0ZU9uZShydWxlLCBkYXRhLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ29udmVydCBydWxlcyB0byBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBTdHlsZVNoZWV0O1xufSgpO1xuXG52YXIgUGx1Z2luc1JlZ2lzdHJ5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGx1Z2luc1JlZ2lzdHJ5KCkge1xuICAgIHRoaXMucGx1Z2lucyA9IHtcbiAgICAgIGludGVybmFsOiBbXSxcbiAgICAgIGV4dGVybmFsOiBbXVxuICAgIH07XG4gICAgdGhpcy5yZWdpc3RyeSA9IHt9O1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFBsdWdpbnNSZWdpc3RyeS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIENhbGwgYG9uQ3JlYXRlUnVsZWAgaG9va3MgYW5kIHJldHVybiBhbiBvYmplY3QgaWYgcmV0dXJuZWQgYnkgYSBob29rLlxuICAgKi9cbiAgX3Byb3RvLm9uQ3JlYXRlUnVsZSA9IGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShuYW1lLCBkZWNsLCBvcHRpb25zKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlZ2lzdHJ5Lm9uQ3JlYXRlUnVsZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLnJlZ2lzdHJ5Lm9uQ3JlYXRlUnVsZVtpXShuYW1lLCBkZWNsLCBvcHRpb25zKTtcbiAgICAgIGlmIChydWxlKSByZXR1cm4gcnVsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBgb25Qcm9jZXNzUnVsZWAgaG9va3MuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm9uUHJvY2Vzc1J1bGUgPSBmdW5jdGlvbiBvblByb2Nlc3NSdWxlKHJ1bGUpIHtcbiAgICBpZiAocnVsZS5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuICAgIHZhciBzaGVldCA9IHJ1bGUub3B0aW9ucy5zaGVldDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vblByb2Nlc3NSdWxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnJlZ2lzdHJ5Lm9uUHJvY2Vzc1J1bGVbaV0ocnVsZSwgc2hlZXQpO1xuICAgIH1cblxuICAgIGlmIChydWxlLnN0eWxlKSB0aGlzLm9uUHJvY2Vzc1N0eWxlKHJ1bGUuc3R5bGUsIHJ1bGUsIHNoZWV0KTtcbiAgICBydWxlLmlzUHJvY2Vzc2VkID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBgb25Qcm9jZXNzU3R5bGVgIGhvb2tzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vblByb2Nlc3NTdHlsZSA9IGZ1bmN0aW9uIG9uUHJvY2Vzc1N0eWxlKHN0eWxlLCBydWxlLCBzaGVldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vblByb2Nlc3NTdHlsZS5sZW5ndGg7IGkrKykge1xuICAgICAgcnVsZS5zdHlsZSA9IHRoaXMucmVnaXN0cnkub25Qcm9jZXNzU3R5bGVbaV0ocnVsZS5zdHlsZSwgcnVsZSwgc2hlZXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbCBgb25Qcm9jZXNzU2hlZXRgIGhvb2tzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vblByb2Nlc3NTaGVldCA9IGZ1bmN0aW9uIG9uUHJvY2Vzc1NoZWV0KHNoZWV0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlZ2lzdHJ5Lm9uUHJvY2Vzc1NoZWV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnJlZ2lzdHJ5Lm9uUHJvY2Vzc1NoZWV0W2ldKHNoZWV0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uVXBkYXRlYCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25VcGRhdGUgPSBmdW5jdGlvbiBvblVwZGF0ZShkYXRhLCBydWxlLCBzaGVldCwgb3B0aW9ucykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vblVwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZWdpc3RyeS5vblVwZGF0ZVtpXShkYXRhLCBydWxlLCBzaGVldCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIGBvbkNoYW5nZVZhbHVlYCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25DaGFuZ2VWYWx1ZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlVmFsdWUodmFsdWUsIHByb3AsIHJ1bGUpIHtcbiAgICB2YXIgcHJvY2Vzc2VkVmFsdWUgPSB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vbkNoYW5nZVZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9jZXNzZWRWYWx1ZSA9IHRoaXMucmVnaXN0cnkub25DaGFuZ2VWYWx1ZVtpXShwcm9jZXNzZWRWYWx1ZSwgcHJvcCwgcnVsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2Nlc3NlZFZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIHBsdWdpbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXNlID0gZnVuY3Rpb24gdXNlKG5ld1BsdWdpbiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXVlOiAnZXh0ZXJuYWwnXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBwbHVnaW5zID0gdGhpcy5wbHVnaW5zW29wdGlvbnMucXVldWVdOyAvLyBBdm9pZHMgYXBwbHlpbmcgc2FtZSBwbHVnaW4gdHdpY2UsIGF0IGxlYXN0IGJhc2VkIG9uIHJlZi5cblxuICAgIGlmIChwbHVnaW5zLmluZGV4T2YobmV3UGx1Z2luKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwbHVnaW5zLnB1c2gobmV3UGx1Z2luKTtcbiAgICB0aGlzLnJlZ2lzdHJ5ID0gW10uY29uY2F0KHRoaXMucGx1Z2lucy5leHRlcm5hbCwgdGhpcy5wbHVnaW5zLmludGVybmFsKS5yZWR1Y2UoZnVuY3Rpb24gKHJlZ2lzdHJ5LCBwbHVnaW4pIHtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gcGx1Z2luKSB7XG4gICAgICAgIGlmIChuYW1lIGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgICAgcmVnaXN0cnlbbmFtZV0ucHVzaChwbHVnaW5bbmFtZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gVW5rbm93biBob29rIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIuXCIpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWdpc3RyeTtcbiAgICB9LCB7XG4gICAgICBvbkNyZWF0ZVJ1bGU6IFtdLFxuICAgICAgb25Qcm9jZXNzUnVsZTogW10sXG4gICAgICBvblByb2Nlc3NTdHlsZTogW10sXG4gICAgICBvblByb2Nlc3NTaGVldDogW10sXG4gICAgICBvbkNoYW5nZVZhbHVlOiBbXSxcbiAgICAgIG9uVXBkYXRlOiBbXVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBQbHVnaW5zUmVnaXN0cnk7XG59KCk7XG5cbi8qKlxuICogU2hlZXRzIHJlZ2lzdHJ5IHRvIGFjY2VzcyBhbGwgaW5zdGFuY2VzIGluIG9uZSBwbGFjZS5cbiAqL1xuXG52YXIgU2hlZXRzUmVnaXN0cnkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaGVldHNSZWdpc3RyeSgpIHtcbiAgICB0aGlzLnJlZ2lzdHJ5ID0gW107XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU2hlZXRzUmVnaXN0cnkucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIFN0eWxlIFNoZWV0LlxuICAgKi9cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChzaGVldCkge1xuICAgIHZhciByZWdpc3RyeSA9IHRoaXMucmVnaXN0cnk7XG4gICAgdmFyIGluZGV4ID0gc2hlZXQub3B0aW9ucy5pbmRleDtcbiAgICBpZiAocmVnaXN0cnkuaW5kZXhPZihzaGVldCkgIT09IC0xKSByZXR1cm47XG5cbiAgICBpZiAocmVnaXN0cnkubGVuZ3RoID09PSAwIHx8IGluZGV4ID49IHRoaXMuaW5kZXgpIHtcbiAgICAgIHJlZ2lzdHJ5LnB1c2goc2hlZXQpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gRmluZCBhIHBvc2l0aW9uLlxuXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZ2lzdHJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVnaXN0cnlbaV0ub3B0aW9ucy5pbmRleCA+IGluZGV4KSB7XG4gICAgICAgIHJlZ2lzdHJ5LnNwbGljZShpLCAwLCBzaGVldCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSByZWdpc3RyeS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLnJlZ2lzdHJ5ID0gW107XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhIFN0eWxlIFNoZWV0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoc2hlZXQpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLnJlZ2lzdHJ5LmluZGV4T2Yoc2hlZXQpO1xuICAgIHRoaXMucmVnaXN0cnkuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydCBhbGwgYXR0YWNoZWQgc2hlZXRzIHRvIGEgQ1NTIHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhfdGVtcCkge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICAgIGF0dGFjaGVkID0gX3JlZi5hdHRhY2hlZCxcbiAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcImF0dGFjaGVkXCJdKTtcblxuICAgIHZhciBfZ2V0V2hpdGVzcGFjZVN5bWJvbHMgPSBnZXRXaGl0ZXNwYWNlU3ltYm9scyhvcHRpb25zKSxcbiAgICAgICAgbGluZWJyZWFrID0gX2dldFdoaXRlc3BhY2VTeW1ib2xzLmxpbmVicmVhaztcblxuICAgIHZhciBjc3MgPSAnJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNoZWV0ID0gdGhpcy5yZWdpc3RyeVtpXTtcblxuICAgICAgaWYgKGF0dGFjaGVkICE9IG51bGwgJiYgc2hlZXQuYXR0YWNoZWQgIT09IGF0dGFjaGVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3NzKSBjc3MgKz0gbGluZWJyZWFrO1xuICAgICAgY3NzICs9IHNoZWV0LnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBjc3M7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFNoZWV0c1JlZ2lzdHJ5LCBbe1xuICAgIGtleTogXCJpbmRleFwiLFxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBoaWdoZXN0IGluZGV4IG51bWJlci5cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5Lmxlbmd0aCA9PT0gMCA/IDAgOiB0aGlzLnJlZ2lzdHJ5W3RoaXMucmVnaXN0cnkubGVuZ3RoIC0gMV0ub3B0aW9ucy5pbmRleDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2hlZXRzUmVnaXN0cnk7XG59KCk7XG5cbi8qKlxuICogVGhpcyBpcyBhIGdsb2JhbCBzaGVldHMgcmVnaXN0cnkuIE9ubHkgRG9tUmVuZGVyZXIgd2lsbCBhZGQgc2hlZXRzIHRvIGl0LlxuICogT24gdGhlIHNlcnZlciBvbmUgc2hvdWxkIHVzZSBhbiBvd24gU2hlZXRzUmVnaXN0cnkgaW5zdGFuY2UgYW5kIGFkZCB0aGVcbiAqIHNoZWV0cyB0byBpdCwgYmVjYXVzZSB5b3UgbmVlZCB0byBtYWtlIHN1cmUgdG8gY3JlYXRlIGEgbmV3IHJlZ2lzdHJ5IGZvclxuICogZWFjaCByZXF1ZXN0IGluIG9yZGVyIHRvIG5vdCBsZWFrIHNoZWV0cyBhY3Jvc3MgcmVxdWVzdHMuXG4gKi9cblxudmFyIHNoZWV0cyA9IG5ldyBTaGVldHNSZWdpc3RyeSgpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vKipcbiAqIE5vdyB0aGF0IGBnbG9iYWxUaGlzYCBpcyBhdmFpbGFibGUgb24gbW9zdCBwbGF0Zm9ybXNcbiAqIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9nbG9iYWxUaGlzI2Jyb3dzZXJfY29tcGF0aWJpbGl0eSlcbiAqIHdlIGNoZWNrIGZvciBgZ2xvYmFsVGhpc2AgZmlyc3QuIGBnbG9iYWxUaGlzYCBpcyBuZWNlc3NhcnkgZm9yIGpzc1xuICogdG8gcnVuIGluIEFnb3JpYydzIHNlY3VyZSB2ZXJzaW9uIG9mIEphdmFTY3JpcHQgKFNFUykuIFVuZGVyIFNFUyxcbiAqIGBnbG9iYWxUaGlzYCBleGlzdHMsIGJ1dCBgd2luZG93YCwgYHNlbGZgLCBhbmQgYEZ1bmN0aW9uKCdyZXR1cm5cbiAqIHRoaXMnKSgpYCBhcmUgYWxsIHVuZGVmaW5lZCBmb3Igc2VjdXJpdHkgcmVhc29ucy5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuICovXG52YXIgZ2xvYmFsVGhpcyQxID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09PSBNYXRoID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG52YXIgbnMgPSAnMmYxYWNjNmMzYTYwNmIwODJlNWVlZjVlNTQ0MTRmZmInO1xuaWYgKGdsb2JhbFRoaXMkMVtuc10gPT0gbnVsbCkgZ2xvYmFsVGhpcyQxW25zXSA9IDA7IC8vIEJ1bmRsZSBtYXkgY29udGFpbiBtdWx0aXBsZSBKU1MgdmVyc2lvbnMgYXQgdGhlIHNhbWUgdGltZS4gSW4gb3JkZXIgdG8gaWRlbnRpZnlcbi8vIHRoZSBjdXJyZW50IHZlcnNpb24gd2l0aCBqdXN0IG9uZSBzaG9ydCBudW1iZXIgYW5kIHVzZSBpdCBmb3IgY2xhc3NlcyBnZW5lcmF0aW9uXG4vLyB3ZSB1c2UgYSBjb3VudGVyLiBBbHNvIGl0IGlzIG1vcmUgYWNjdXJhdGUsIGJlY2F1c2UgdXNlciBjYW4gbWFudWFsbHkgcmVldmFsdWF0ZVxuLy8gdGhlIG1vZHVsZS5cblxudmFyIG1vZHVsZUlkID0gZ2xvYmFsVGhpcyQxW25zXSsrO1xuXG52YXIgbWF4UnVsZXMgPSAxZTEwO1xuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZ2VuZXJhdGVzIHVuaXF1ZSBjbGFzcyBuYW1lcyBiYXNlZCBvbiBjb3VudGVycy5cbiAqIFdoZW4gbmV3IGdlbmVyYXRvciBmdW5jdGlvbiBpcyBjcmVhdGVkLCBydWxlIGNvdW50ZXIgaXMgcmVzZXRlZC5cbiAqIFdlIG5lZWQgdG8gcmVzZXQgdGhlIHJ1bGUgY291bnRlciBmb3IgU1NSIGZvciBlYWNoIHJlcXVlc3QuXG4gKi9cblxudmFyIGNyZWF0ZUdlbmVyYXRlSWQgPSBmdW5jdGlvbiBjcmVhdGVHZW5lcmF0ZUlkKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBydWxlQ291bnRlciA9IDA7XG5cbiAgdmFyIGdlbmVyYXRlSWQgPSBmdW5jdGlvbiBnZW5lcmF0ZUlkKHJ1bGUsIHNoZWV0KSB7XG4gICAgcnVsZUNvdW50ZXIgKz0gMTtcblxuICAgIGlmIChydWxlQ291bnRlciA+IG1heFJ1bGVzKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFlvdSBtaWdodCBoYXZlIGEgbWVtb3J5IGxlYWsuIFJ1bGUgY291bnRlciBpcyBhdCBcIiArIHJ1bGVDb3VudGVyICsgXCIuXCIpIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHZhciBqc3NJZCA9ICcnO1xuICAgIHZhciBwcmVmaXggPSAnJztcblxuICAgIGlmIChzaGVldCkge1xuICAgICAgaWYgKHNoZWV0Lm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4KSB7XG4gICAgICAgIHByZWZpeCA9IHNoZWV0Lm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4O1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hlZXQub3B0aW9ucy5qc3MuaWQgIT0gbnVsbCkge1xuICAgICAgICBqc3NJZCA9IFN0cmluZyhzaGVldC5vcHRpb25zLmpzcy5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWluaWZ5KSB7XG4gICAgICAvLyBVc2luZyBcImNcIiBiZWNhdXNlIGEgbnVtYmVyIGNhbid0IGJlIHRoZSBmaXJzdCBjaGFyIGluIGEgY2xhc3MgbmFtZS5cbiAgICAgIHJldHVybiBcIlwiICsgKHByZWZpeCB8fCAnYycpICsgbW9kdWxlSWQgKyBqc3NJZCArIHJ1bGVDb3VudGVyO1xuICAgIH1cblxuICAgIHJldHVybiBwcmVmaXggKyBydWxlLmtleSArIFwiLVwiICsgbW9kdWxlSWQgKyAoanNzSWQgPyBcIi1cIiArIGpzc0lkIDogJycpICsgXCItXCIgKyBydWxlQ291bnRlcjtcbiAgfTtcblxuICByZXR1cm4gZ2VuZXJhdGVJZDtcbn07XG5cbi8qKlxuICogQ2FjaGUgdGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IHRpbWUgYSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gKi9cblxudmFyIG1lbW9pemUgPSBmdW5jdGlvbiBtZW1vaXplKGZuKSB7XG4gIHZhciB2YWx1ZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZhbHVlKSB2YWx1ZSA9IGZuKCk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufTtcbi8qKlxuICogR2V0IGEgc3R5bGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cblxuXG52YXIgZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uIGdldFByb3BlcnR5VmFsdWUoY3NzUnVsZSwgcHJvcCkge1xuICB0cnkge1xuICAgIC8vIFN1cHBvcnQgQ1NTVE9NLlxuICAgIGlmIChjc3NSdWxlLmF0dHJpYnV0ZVN0eWxlTWFwKSB7XG4gICAgICByZXR1cm4gY3NzUnVsZS5hdHRyaWJ1dGVTdHlsZU1hcC5nZXQocHJvcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNzc1J1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gSUUgbWF5IHRocm93IGlmIHByb3BlcnR5IGlzIHVua25vd24uXG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuLyoqXG4gKiBTZXQgYSBzdHlsZSBwcm9wZXJ0eS5cbiAqL1xuXG5cbnZhciBzZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIHNldFByb3BlcnR5KGNzc1J1bGUsIHByb3AsIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgdmFyIGNzc1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGNzc1ZhbHVlID0gdG9Dc3NWYWx1ZSh2YWx1ZSk7XG4gICAgfSAvLyBTdXBwb3J0IENTU1RPTS5cblxuXG4gICAgaWYgKGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXApIHtcbiAgICAgIGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXAuc2V0KHByb3AsIGNzc1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4T2ZJbXBvcnRhbnRGbGFnID0gY3NzVmFsdWUgPyBjc3NWYWx1ZS5pbmRleE9mKCchaW1wb3J0YW50JykgOiAtMTtcbiAgICAgIHZhciBjc3NWYWx1ZVdpdGhvdXRJbXBvcnRhbnRGbGFnID0gaW5kZXhPZkltcG9ydGFudEZsYWcgPiAtMSA/IGNzc1ZhbHVlLnN1YnN0cigwLCBpbmRleE9mSW1wb3J0YW50RmxhZyAtIDEpIDogY3NzVmFsdWU7XG4gICAgICBjc3NSdWxlLnN0eWxlLnNldFByb3BlcnR5KHByb3AsIGNzc1ZhbHVlV2l0aG91dEltcG9ydGFudEZsYWcsIGluZGV4T2ZJbXBvcnRhbnRGbGFnID4gLTEgPyAnaW1wb3J0YW50JyA6ICcnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIElFIG1heSB0aHJvdyBpZiBwcm9wZXJ0eSBpcyB1bmtub3duLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbi8qKlxuICogUmVtb3ZlIGEgc3R5bGUgcHJvcGVydHkuXG4gKi9cblxuXG52YXIgcmVtb3ZlUHJvcGVydHkgPSBmdW5jdGlvbiByZW1vdmVQcm9wZXJ0eShjc3NSdWxlLCBwcm9wKSB7XG4gIHRyeSB7XG4gICAgLy8gU3VwcG9ydCBDU1NUT00uXG4gICAgaWYgKGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXApIHtcbiAgICAgIGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXAuZGVsZXRlKHByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjc3NSdWxlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3ApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgXCJbSlNTXSBET01FeGNlcHRpb24gXFxcIlwiICsgZXJyLm1lc3NhZ2UgKyBcIlxcXCIgd2FzIHRocm93bi4gVHJpZWQgdG8gcmVtb3ZlIHByb3BlcnR5IFxcXCJcIiArIHByb3AgKyBcIlxcXCIuXCIpIDogdm9pZCAwO1xuICB9XG59O1xuLyoqXG4gKiBTZXQgdGhlIHNlbGVjdG9yLlxuICovXG5cblxudmFyIHNldFNlbGVjdG9yID0gZnVuY3Rpb24gc2V0U2VsZWN0b3IoY3NzUnVsZSwgc2VsZWN0b3JUZXh0KSB7XG4gIGNzc1J1bGUuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3JUZXh0OyAvLyBSZXR1cm4gZmFsc2UgaWYgc2V0dGVyIHdhcyBub3Qgc3VjY2Vzc2Z1bC5cbiAgLy8gQ3VycmVudGx5IHdvcmtzIGluIGNocm9tZSBvbmx5LlxuXG4gIHJldHVybiBjc3NSdWxlLnNlbGVjdG9yVGV4dCA9PT0gc2VsZWN0b3JUZXh0O1xufTtcbi8qKlxuICogR2V0cyB0aGUgYGhlYWRgIGVsZW1lbnQgdXBvbiB0aGUgZmlyc3QgY2FsbCBhbmQgY2FjaGVzIGl0LlxuICogV2UgYXNzdW1lIGl0IGNhbid0IGJlIG51bGwuXG4gKi9cblxuXG52YXIgZ2V0SGVhZCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpO1xufSk7XG4vKipcbiAqIEZpbmQgYXR0YWNoZWQgc2hlZXQgd2l0aCBhbiBpbmRleCBoaWdoZXIgdGhhbiB0aGUgcGFzc2VkIG9uZS5cbiAqL1xuXG5mdW5jdGlvbiBmaW5kSGlnaGVyU2hlZXQocmVnaXN0cnksIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RyeS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzaGVldCA9IHJlZ2lzdHJ5W2ldO1xuXG4gICAgaWYgKHNoZWV0LmF0dGFjaGVkICYmIHNoZWV0Lm9wdGlvbnMuaW5kZXggPiBvcHRpb25zLmluZGV4ICYmIHNoZWV0Lm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQgPT09IG9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQpIHtcbiAgICAgIHJldHVybiBzaGVldDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogRmluZCBhdHRhY2hlZCBzaGVldCB3aXRoIHRoZSBoaWdoZXN0IGluZGV4LlxuICovXG5cblxuZnVuY3Rpb24gZmluZEhpZ2hlc3RTaGVldChyZWdpc3RyeSwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gcmVnaXN0cnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgc2hlZXQgPSByZWdpc3RyeVtpXTtcblxuICAgIGlmIChzaGVldC5hdHRhY2hlZCAmJiBzaGVldC5vcHRpb25zLmluc2VydGlvblBvaW50ID09PSBvcHRpb25zLmluc2VydGlvblBvaW50KSB7XG4gICAgICByZXR1cm4gc2hlZXQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEZpbmQgYSBjb21tZW50IHdpdGggXCJqc3NcIiBpbnNpZGUuXG4gKi9cblxuXG5mdW5jdGlvbiBmaW5kQ29tbWVudE5vZGUodGV4dCkge1xuICB2YXIgaGVhZCA9IGdldEhlYWQoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGhlYWQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBub2RlID0gaGVhZC5jaGlsZE5vZGVzW2ldO1xuXG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggJiYgbm9kZS5ub2RlVmFsdWUudHJpbSgpID09PSB0ZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogRmluZCBhIG5vZGUgYmVmb3JlIHdoaWNoIHdlIGNhbiBpbnNlcnQgdGhlIHNoZWV0LlxuICovXG5cblxuZnVuY3Rpb24gZmluZFByZXZOb2RlKG9wdGlvbnMpIHtcbiAgdmFyIHJlZ2lzdHJ5ID0gc2hlZXRzLnJlZ2lzdHJ5O1xuXG4gIGlmIChyZWdpc3RyeS5sZW5ndGggPiAwKSB7XG4gICAgLy8gVHJ5IHRvIGluc2VydCBiZWZvcmUgdGhlIG5leHQgaGlnaGVyIHNoZWV0LlxuICAgIHZhciBzaGVldCA9IGZpbmRIaWdoZXJTaGVldChyZWdpc3RyeSwgb3B0aW9ucyk7XG5cbiAgICBpZiAoc2hlZXQgJiYgc2hlZXQucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmVudDogc2hlZXQucmVuZGVyZXIuZWxlbWVudC5wYXJlbnROb2RlLFxuICAgICAgICBub2RlOiBzaGVldC5yZW5kZXJlci5lbGVtZW50XG4gICAgICB9O1xuICAgIH0gLy8gT3RoZXJ3aXNlIGluc2VydCBhZnRlciB0aGUgbGFzdCBhdHRhY2hlZC5cblxuXG4gICAgc2hlZXQgPSBmaW5kSGlnaGVzdFNoZWV0KHJlZ2lzdHJ5LCBvcHRpb25zKTtcblxuICAgIGlmIChzaGVldCAmJiBzaGVldC5yZW5kZXJlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiBzaGVldC5yZW5kZXJlci5lbGVtZW50LnBhcmVudE5vZGUsXG4gICAgICAgIG5vZGU6IHNoZWV0LnJlbmRlcmVyLmVsZW1lbnQubmV4dFNpYmxpbmdcbiAgICAgIH07XG4gICAgfVxuICB9IC8vIFRyeSB0byBmaW5kIGEgY29tbWVudCBwbGFjZWhvbGRlciBpZiByZWdpc3RyeSBpcyBlbXB0eS5cblxuXG4gIHZhciBpbnNlcnRpb25Qb2ludCA9IG9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQ7XG5cbiAgaWYgKGluc2VydGlvblBvaW50ICYmIHR5cGVvZiBpbnNlcnRpb25Qb2ludCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgY29tbWVudCA9IGZpbmRDb21tZW50Tm9kZShpbnNlcnRpb25Qb2ludCk7XG5cbiAgICBpZiAoY29tbWVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiBjb21tZW50LnBhcmVudE5vZGUsXG4gICAgICAgIG5vZGU6IGNvbW1lbnQubmV4dFNpYmxpbmdcbiAgICAgIH07XG4gICAgfSAvLyBJZiB1c2VyIHNwZWNpZmllcyBhbiBpbnNlcnRpb24gcG9pbnQgYW5kIGl0IGNhbid0IGJlIGZvdW5kIGluIHRoZSBkb2N1bWVudCAtXG4gICAgLy8gYmFkIHNwZWNpZmljaXR5IGlzc3VlcyBtYXkgYXBwZWFyLlxuXG5cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIEluc2VydGlvbiBwb2ludCBcXFwiXCIgKyBpbnNlcnRpb25Qb2ludCArIFwiXFxcIiBub3QgZm91bmQuXCIpIDogdm9pZCAwO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBJbnNlcnQgc3R5bGUgZWxlbWVudCBpbnRvIHRoZSBET00uXG4gKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZShzdHlsZSwgb3B0aW9ucykge1xuICB2YXIgaW5zZXJ0aW9uUG9pbnQgPSBvcHRpb25zLmluc2VydGlvblBvaW50O1xuICB2YXIgbmV4dE5vZGUgPSBmaW5kUHJldk5vZGUob3B0aW9ucyk7XG5cbiAgaWYgKG5leHROb2RlICE9PSBmYWxzZSAmJiBuZXh0Tm9kZS5wYXJlbnQpIHtcbiAgICBuZXh0Tm9kZS5wYXJlbnQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0Tm9kZS5ub2RlKTtcbiAgICByZXR1cm47XG4gIH0gLy8gV29ya3Mgd2l0aCBpZnJhbWVzIGFuZCBhbnkgbm9kZSB0eXBlcy5cblxuXG4gIGlmIChpbnNlcnRpb25Qb2ludCAmJiB0eXBlb2YgaW5zZXJ0aW9uUG9pbnQubm9kZVR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgdmFyIGluc2VydGlvblBvaW50RWxlbWVudCA9IGluc2VydGlvblBvaW50O1xuICAgIHZhciBwYXJlbnROb2RlID0gaW5zZXJ0aW9uUG9pbnRFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUpIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHN0eWxlLCBpbnNlcnRpb25Qb2ludEVsZW1lbnQubmV4dFNpYmxpbmcpO2Vsc2UgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ1tKU1NdIEluc2VydGlvbiBwb2ludCBpcyBub3QgaW4gdGhlIERPTS4nKSA6IHZvaWQgMDtcbiAgICByZXR1cm47XG4gIH1cblxuICBnZXRIZWFkKCkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuLyoqXG4gKiBSZWFkIGpzcyBub25jZSBzZXR0aW5nIGZyb20gdGhlIHBhZ2UgaWYgdGhlIHVzZXIgaGFzIHNldCBpdC5cbiAqL1xuXG5cbnZhciBnZXROb25jZSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJjc3Atbm9uY2VcIl0nKTtcbiAgcmV0dXJuIG5vZGUgPyBub2RlLmdldEF0dHJpYnV0ZSgnY29udGVudCcpIDogbnVsbDtcbn0pO1xuXG52YXIgX2luc2VydFJ1bGUgPSBmdW5jdGlvbiBpbnNlcnRSdWxlKGNvbnRhaW5lciwgcnVsZSwgaW5kZXgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoJ2luc2VydFJ1bGUnIGluIGNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyLmluc2VydFJ1bGUocnVsZSwgaW5kZXgpO1xuICAgIH0gLy8gS2V5ZnJhbWVzIHJ1bGUuXG4gICAgZWxzZSBpZiAoJ2FwcGVuZFJ1bGUnIGluIGNvbnRhaW5lcikge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kUnVsZShydWxlKTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgXCJbSlNTXSBcIiArIGVyci5tZXNzYWdlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY29udGFpbmVyLmNzc1J1bGVzW2luZGV4XTtcbn07XG5cbnZhciBnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleCA9IGZ1bmN0aW9uIGdldFZhbGlkUnVsZUluc2VydGlvbkluZGV4KGNvbnRhaW5lciwgaW5kZXgpIHtcbiAgdmFyIG1heEluZGV4ID0gY29udGFpbmVyLmNzc1J1bGVzLmxlbmd0aDsgLy8gSW4gY2FzZSBwcmV2aW91cyBpbnNlcnRpb24gZmFpbHMsIHBhc3NlZCBpbmRleCBtaWdodCBiZSB3cm9uZ1xuXG4gIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkIHx8IGluZGV4ID4gbWF4SW5kZXgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICByZXR1cm4gbWF4SW5kZXg7XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59O1xuXG52YXIgY3JlYXRlU3R5bGUgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZSgpIHtcbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsgLy8gV2l0aG91dCBpdCwgSUUgd2lsbCBoYXZlIGEgYnJva2VuIHNvdXJjZSBvcmRlciBzcGVjaWZpY2l0eSBpZiB3ZVxuICAvLyBpbnNlcnQgcnVsZXMgYWZ0ZXIgd2UgaW5zZXJ0IHRoZSBzdHlsZSB0YWcuXG4gIC8vIEl0IHNlZW1zIHRvIGtpY2stb2ZmIHRoZSBzb3VyY2Ugb3JkZXIgc3BlY2lmaWNpdHkgYWxnb3JpdGhtLlxuXG4gIGVsLnRleHRDb250ZW50ID0gJ1xcbic7XG4gIHJldHVybiBlbDtcbn07XG5cbnZhciBEb21SZW5kZXJlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8vIFdpbGwgYmUgZW1wdHkgaWYgbGluazogdHJ1ZSBvcHRpb24gaXMgbm90IHNldCwgYmVjYXVzZVxuICAvLyBpdCBpcyBvbmx5IGZvciB1c2UgdG9nZXRoZXIgd2l0aCBpbnNlcnRSdWxlIEFQSS5cbiAgZnVuY3Rpb24gRG9tUmVuZGVyZXIoc2hlZXQpIHtcbiAgICB0aGlzLmdldFByb3BlcnR5VmFsdWUgPSBnZXRQcm9wZXJ0eVZhbHVlO1xuICAgIHRoaXMuc2V0UHJvcGVydHkgPSBzZXRQcm9wZXJ0eTtcbiAgICB0aGlzLnJlbW92ZVByb3BlcnR5ID0gcmVtb3ZlUHJvcGVydHk7XG4gICAgdGhpcy5zZXRTZWxlY3RvciA9IHNldFNlbGVjdG9yO1xuICAgIHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyA9IGZhbHNlO1xuICAgIHRoaXMuY3NzUnVsZXMgPSBbXTtcbiAgICAvLyBUaGVyZSBpcyBubyBzaGVldCB3aGVuIHRoZSByZW5kZXJlciBpcyB1c2VkIGZyb20gYSBzdGFuZGFsb25lIFN0eWxlUnVsZS5cbiAgICBpZiAoc2hlZXQpIHNoZWV0cy5hZGQoc2hlZXQpO1xuICAgIHRoaXMuc2hlZXQgPSBzaGVldDtcblxuICAgIHZhciBfcmVmID0gdGhpcy5zaGVldCA/IHRoaXMuc2hlZXQub3B0aW9ucyA6IHt9LFxuICAgICAgICBtZWRpYSA9IF9yZWYubWVkaWEsXG4gICAgICAgIG1ldGEgPSBfcmVmLm1ldGEsXG4gICAgICAgIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQ7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IHx8IGNyZWF0ZVN0eWxlKCk7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1qc3MnLCAnJyk7XG4gICAgaWYgKG1lZGlhKSB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgICBpZiAobWV0YSkgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1tZXRhJywgbWV0YSk7XG4gICAgdmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcbiAgICBpZiAobm9uY2UpIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgc3R5bGUgZWxlbWVudCBpbnRvIHJlbmRlciB0cmVlLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBEb21SZW5kZXJlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmF0dGFjaCA9IGZ1bmN0aW9uIGF0dGFjaCgpIHtcbiAgICAvLyBJbiB0aGUgY2FzZSB0aGUgZWxlbWVudCBub2RlIGlzIGV4dGVybmFsIGFuZCBpdCBpcyBhbHJlYWR5IGluIHRoZSBET00uXG4gICAgaWYgKHRoaXMuZWxlbWVudC5wYXJlbnROb2RlIHx8ICF0aGlzLnNoZWV0KSByZXR1cm47XG4gICAgaW5zZXJ0U3R5bGUodGhpcy5lbGVtZW50LCB0aGlzLnNoZWV0Lm9wdGlvbnMpOyAvLyBXaGVuIHJ1bGVzIGFyZSBpbnNlcnRlZCB1c2luZyBgaW5zZXJ0UnVsZWAgQVBJLCBhZnRlciBgc2hlZXQuZGV0YWNoKCkuYXR0YWNoKClgXG4gICAgLy8gbW9zdCBicm93c2VycyBjcmVhdGUgYSBuZXcgQ1NTU3R5bGVTaGVldCwgZXhjZXB0IG9mIGFsbCBJRXMuXG5cbiAgICB2YXIgZGVwbG95ZWQgPSBCb29sZWFuKHRoaXMuc2hlZXQgJiYgdGhpcy5zaGVldC5kZXBsb3llZCk7XG5cbiAgICBpZiAodGhpcy5oYXNJbnNlcnRlZFJ1bGVzICYmIGRlcGxveWVkKSB7XG4gICAgICB0aGlzLmhhc0luc2VydGVkUnVsZXMgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVwbG95KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgc3R5bGUgZWxlbWVudCBmcm9tIHJlbmRlciB0cmVlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZXRhY2ggPSBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgaWYgKCF0aGlzLnNoZWV0KSByZXR1cm47XG4gICAgdmFyIHBhcmVudE5vZGUgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpOyAvLyBJbiB0aGUgbW9zdCBicm93c2VycywgcnVsZXMgaW5zZXJ0ZWQgdXNpbmcgaW5zZXJ0UnVsZSgpIEFQSSB3aWxsIGJlIGxvc3Qgd2hlbiBzdHlsZSBlbGVtZW50IGlzIHJlbW92ZWQuXG4gICAgLy8gVGhvdWdoIElFIHdpbGwga2VlcCB0aGVtIGFuZCB3ZSBuZWVkIGEgY29uc2lzdGVudCBiZWhhdmlvci5cblxuICAgIGlmICh0aGlzLnNoZWV0Lm9wdGlvbnMubGluaykge1xuICAgICAgdGhpcy5jc3NSdWxlcyA9IFtdO1xuICAgICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gJ1xcbic7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJbmplY3QgQ1NTIHN0cmluZyBpbnRvIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRlcGxveSA9IGZ1bmN0aW9uIGRlcGxveSgpIHtcbiAgICB2YXIgc2hlZXQgPSB0aGlzLnNoZWV0O1xuICAgIGlmICghc2hlZXQpIHJldHVybjtcblxuICAgIGlmIChzaGVldC5vcHRpb25zLmxpbmspIHtcbiAgICAgIHRoaXMuaW5zZXJ0UnVsZXMoc2hlZXQucnVsZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IFwiXFxuXCIgKyBzaGVldC50b1N0cmluZygpICsgXCJcXG5cIjtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IFJ1bGVMaXN0IGludG8gYW4gZWxlbWVudC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5zZXJ0UnVsZXMgPSBmdW5jdGlvbiBpbnNlcnRSdWxlcyhydWxlcywgbmF0aXZlUGFyZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5pbmRleC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5pbnNlcnRSdWxlKHJ1bGVzLmluZGV4W2ldLCBpLCBuYXRpdmVQYXJlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IGEgcnVsZSBpbnRvIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluc2VydFJ1bGUgPSBmdW5jdGlvbiBpbnNlcnRSdWxlKHJ1bGUsIGluZGV4LCBuYXRpdmVQYXJlbnQpIHtcbiAgICBpZiAobmF0aXZlUGFyZW50ID09PSB2b2lkIDApIHtcbiAgICAgIG5hdGl2ZVBhcmVudCA9IHRoaXMuZWxlbWVudC5zaGVldDtcbiAgICB9XG5cbiAgICBpZiAocnVsZS5ydWxlcykge1xuICAgICAgdmFyIHBhcmVudCA9IHJ1bGU7XG4gICAgICB2YXIgbGF0ZXN0TmF0aXZlUGFyZW50ID0gbmF0aXZlUGFyZW50O1xuXG4gICAgICBpZiAocnVsZS50eXBlID09PSAnY29uZGl0aW9uYWwnIHx8IHJ1bGUudHlwZSA9PT0gJ2tleWZyYW1lcycpIHtcbiAgICAgICAgdmFyIF9pbnNlcnRpb25JbmRleCA9IGdldFZhbGlkUnVsZUluc2VydGlvbkluZGV4KG5hdGl2ZVBhcmVudCwgaW5kZXgpOyAvLyBXZSBuZWVkIHRvIHJlbmRlciB0aGUgY29udGFpbmVyIHdpdGhvdXQgY2hpbGRyZW4gZmlyc3QuXG5cblxuICAgICAgICBsYXRlc3ROYXRpdmVQYXJlbnQgPSBfaW5zZXJ0UnVsZShuYXRpdmVQYXJlbnQsIHBhcmVudC50b1N0cmluZyh7XG4gICAgICAgICAgY2hpbGRyZW46IGZhbHNlXG4gICAgICAgIH0pLCBfaW5zZXJ0aW9uSW5kZXgpO1xuXG4gICAgICAgIGlmIChsYXRlc3ROYXRpdmVQYXJlbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZDc3NSdWxlKHJ1bGUsIF9pbnNlcnRpb25JbmRleCwgbGF0ZXN0TmF0aXZlUGFyZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbnNlcnRSdWxlcyhwYXJlbnQucnVsZXMsIGxhdGVzdE5hdGl2ZVBhcmVudCk7XG4gICAgICByZXR1cm4gbGF0ZXN0TmF0aXZlUGFyZW50O1xuICAgIH1cblxuICAgIHZhciBydWxlU3RyID0gcnVsZS50b1N0cmluZygpO1xuICAgIGlmICghcnVsZVN0cikgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBpbnNlcnRpb25JbmRleCA9IGdldFZhbGlkUnVsZUluc2VydGlvbkluZGV4KG5hdGl2ZVBhcmVudCwgaW5kZXgpO1xuXG4gICAgdmFyIG5hdGl2ZVJ1bGUgPSBfaW5zZXJ0UnVsZShuYXRpdmVQYXJlbnQsIHJ1bGVTdHIsIGluc2VydGlvbkluZGV4KTtcblxuICAgIGlmIChuYXRpdmVSdWxlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyA9IHRydWU7XG4gICAgdGhpcy5yZWZDc3NSdWxlKHJ1bGUsIGluc2VydGlvbkluZGV4LCBuYXRpdmVSdWxlKTtcbiAgICByZXR1cm4gbmF0aXZlUnVsZTtcbiAgfTtcblxuICBfcHJvdG8ucmVmQ3NzUnVsZSA9IGZ1bmN0aW9uIHJlZkNzc1J1bGUocnVsZSwgaW5kZXgsIGNzc1J1bGUpIHtcbiAgICBydWxlLnJlbmRlcmFibGUgPSBjc3NSdWxlOyAvLyBXZSBvbmx5IHdhbnQgdG8gcmVmZXJlbmNlIHRoZSB0b3AgbGV2ZWwgcnVsZXMsIGRlbGV0ZVJ1bGUgQVBJIGRvZXNuJ3Qgc3VwcG9ydCByZW1vdmluZyBuZXN0ZWQgcnVsZXNcbiAgICAvLyBsaWtlIHJ1bGVzIGluc2lkZSBtZWRpYSBxdWVyaWVzIG9yIGtleWZyYW1lc1xuXG4gICAgaWYgKHJ1bGUub3B0aW9ucy5wYXJlbnQgaW5zdGFuY2VvZiBTdHlsZVNoZWV0KSB7XG4gICAgICB0aGlzLmNzc1J1bGVzLnNwbGljZShpbmRleCwgMCwgY3NzUnVsZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZWxldGVSdWxlID0gZnVuY3Rpb24gZGVsZXRlUnVsZShjc3NSdWxlKSB7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5lbGVtZW50LnNoZWV0O1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihjc3NSdWxlKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gZmFsc2U7XG4gICAgc2hlZXQuZGVsZXRlUnVsZShpbmRleCk7XG4gICAgdGhpcy5jc3NSdWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgYSBDU1MgUnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YoY3NzUnVsZSkge1xuICAgIHJldHVybiB0aGlzLmNzc1J1bGVzLmluZGV4T2YoY3NzUnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbmV3IENTUyBydWxlIGFuZCByZXBsYWNlIHRoZSBleGlzdGluZyBvbmUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlcGxhY2VSdWxlID0gZnVuY3Rpb24gcmVwbGFjZVJ1bGUoY3NzUnVsZSwgcnVsZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihjc3NSdWxlKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gZmFsc2U7XG4gICAgdGhpcy5lbGVtZW50LnNoZWV0LmRlbGV0ZVJ1bGUoaW5kZXgpO1xuICAgIHRoaXMuY3NzUnVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnRSdWxlKHJ1bGUsIGluZGV4KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFsbCBydWxlcyBlbGVtZW50cy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0UnVsZXMgPSBmdW5jdGlvbiBnZXRSdWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LnNoZWV0LmNzc1J1bGVzO1xuICB9O1xuXG4gIHJldHVybiBEb21SZW5kZXJlcjtcbn0oKTtcblxudmFyIGluc3RhbmNlQ291bnRlciA9IDA7XG5cbnZhciBKc3MgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBKc3Mob3B0aW9ucykge1xuICAgIHRoaXMuaWQgPSBpbnN0YW5jZUNvdW50ZXIrKztcbiAgICB0aGlzLnZlcnNpb24gPSBcIjEwLjkuMlwiO1xuICAgIHRoaXMucGx1Z2lucyA9IG5ldyBQbHVnaW5zUmVnaXN0cnkoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBpZDoge1xuICAgICAgICBtaW5pZnk6IGZhbHNlXG4gICAgICB9LFxuICAgICAgY3JlYXRlR2VuZXJhdGVJZDogY3JlYXRlR2VuZXJhdGVJZCxcbiAgICAgIFJlbmRlcmVyOiBpc0luQnJvd3NlciA/IERvbVJlbmRlcmVyIDogbnVsbCxcbiAgICAgIHBsdWdpbnM6IFtdXG4gICAgfTtcbiAgICB0aGlzLmdlbmVyYXRlSWQgPSBjcmVhdGVHZW5lcmF0ZUlkKHtcbiAgICAgIG1pbmlmeTogZmFsc2VcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wbHVnaW5zLnVzZShwbHVnaW5zW2ldLCB7XG4gICAgICAgIHF1ZXVlOiAnaW50ZXJuYWwnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnNldHVwKG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBQcmVwYXJlcyB2YXJpb3VzIG9wdGlvbnMsIGFwcGxpZXMgcGx1Z2lucy5cbiAgICogU2hvdWxkIG5vdCBiZSB1c2VkIHR3aWNlIG9uIHRoZSBzYW1lIGluc3RhbmNlLCBiZWNhdXNlIHRoZXJlIGlzIG5vIHBsdWdpbnNcbiAgICogZGVkdXBsaWNhdGlvbiBsb2dpYy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gSnNzLnByb3RvdHlwZTtcblxuICBfcHJvdG8uc2V0dXAgPSBmdW5jdGlvbiBzZXR1cChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmNyZWF0ZUdlbmVyYXRlSWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUlkID0gb3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUlkO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmlkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaWQgPSBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRpb25zLmlkLCBvcHRpb25zLmlkKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUlkIHx8IG9wdGlvbnMuaWQpIHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVJZCA9IHRoaXMub3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUlkKHRoaXMub3B0aW9ucy5pZCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQgIT0gbnVsbCkgdGhpcy5vcHRpb25zLmluc2VydGlvblBvaW50ID0gb3B0aW9ucy5pbnNlcnRpb25Qb2ludDtcblxuICAgIGlmICgnUmVuZGVyZXInIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5SZW5kZXJlciA9IG9wdGlvbnMuUmVuZGVyZXI7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuXG5cbiAgICBpZiAob3B0aW9ucy5wbHVnaW5zKSB0aGlzLnVzZS5hcHBseSh0aGlzLCBvcHRpb25zLnBsdWdpbnMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBTdHlsZSBTaGVldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlU3R5bGVTaGVldCA9IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlU2hlZXQoc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICAgIGluZGV4ID0gX29wdGlvbnMuaW5kZXg7XG5cbiAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgICAgaW5kZXggPSBzaGVldHMuaW5kZXggPT09IDAgPyAwIDogc2hlZXRzLmluZGV4ICsgMTtcbiAgICB9XG5cbiAgICB2YXIgc2hlZXQgPSBuZXcgU3R5bGVTaGVldChzdHlsZXMsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBqc3M6IHRoaXMsXG4gICAgICBnZW5lcmF0ZUlkOiBvcHRpb25zLmdlbmVyYXRlSWQgfHwgdGhpcy5nZW5lcmF0ZUlkLFxuICAgICAgaW5zZXJ0aW9uUG9pbnQ6IHRoaXMub3B0aW9ucy5pbnNlcnRpb25Qb2ludCxcbiAgICAgIFJlbmRlcmVyOiB0aGlzLm9wdGlvbnMuUmVuZGVyZXIsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KSk7XG4gICAgdGhpcy5wbHVnaW5zLm9uUHJvY2Vzc1NoZWV0KHNoZWV0KTtcbiAgICByZXR1cm4gc2hlZXQ7XG4gIH1cbiAgLyoqXG4gICAqIERldGFjaCB0aGUgU3R5bGUgU2hlZXQgYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSByZWdpc3RyeS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlU3R5bGVTaGVldCA9IGZ1bmN0aW9uIHJlbW92ZVN0eWxlU2hlZXQoc2hlZXQpIHtcbiAgICBzaGVldC5kZXRhY2goKTtcbiAgICBzaGVldHMucmVtb3ZlKHNoZWV0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgcnVsZSB3aXRob3V0IGEgU3R5bGUgU2hlZXQuXG4gICAqIFtEZXByZWNhdGVkXSB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uY3JlYXRlUnVsZSA9IGZ1bmN0aW9uIGNyZWF0ZVJ1bGUkMShuYW1lLCBzdHlsZSwgb3B0aW9ucykge1xuICAgIGlmIChzdHlsZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdHlsZSA9IHt9O1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBFbmFibGUgcnVsZSB3aXRob3V0IG5hbWUgZm9yIGlubGluZSBzdHlsZXMuXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUnVsZSh1bmRlZmluZWQsIG5hbWUsIHN0eWxlKTtcbiAgICB9XG5cbiAgICB2YXIgcnVsZU9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGpzczogdGhpcyxcbiAgICAgIFJlbmRlcmVyOiB0aGlzLm9wdGlvbnMuUmVuZGVyZXJcbiAgICB9KTtcblxuICAgIGlmICghcnVsZU9wdGlvbnMuZ2VuZXJhdGVJZCkgcnVsZU9wdGlvbnMuZ2VuZXJhdGVJZCA9IHRoaXMuZ2VuZXJhdGVJZDtcbiAgICBpZiAoIXJ1bGVPcHRpb25zLmNsYXNzZXMpIHJ1bGVPcHRpb25zLmNsYXNzZXMgPSB7fTtcbiAgICBpZiAoIXJ1bGVPcHRpb25zLmtleWZyYW1lcykgcnVsZU9wdGlvbnMua2V5ZnJhbWVzID0ge307XG5cbiAgICB2YXIgcnVsZSA9IGNyZWF0ZVJ1bGUobmFtZSwgc3R5bGUsIHJ1bGVPcHRpb25zKTtcblxuICAgIGlmIChydWxlKSB0aGlzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShydWxlKTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXIgcGx1Z2luLiBQYXNzZWQgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdpdGggYSBydWxlIGluc3RhbmNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2UgPSBmdW5jdGlvbiB1c2UoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwbHVnaW5zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcGx1Z2luc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgX3RoaXMucGx1Z2lucy51c2UocGx1Z2luKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gSnNzO1xufSgpO1xuXG52YXIgY3JlYXRlSnNzID0gZnVuY3Rpb24gY3JlYXRlSnNzKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBKc3Mob3B0aW9ucyk7XG59O1xuXG4vKipcbiAqIFNoZWV0c01hbmFnZXIgaXMgbGlrZSBhIFdlYWtNYXAgd2hpY2ggaXMgZGVzaWduZWQgdG8gY291bnQgU3R5bGVTaGVldFxuICogaW5zdGFuY2VzIGFuZCBhdHRhY2gvZGV0YWNoIGF1dG9tYXRpY2FsbHkuXG4gKiBVc2VkIGluIHJlYWN0LWpzcy5cbiAqL1xuXG52YXIgU2hlZXRzTWFuYWdlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNoZWV0c01hbmFnZXIoKSB7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuc2hlZXRzID0gbmV3IFdlYWtNYXAoKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTaGVldHNNYW5hZ2VyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZ2V0ID0gZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuc2hlZXRzLmdldChrZXkpO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS5zaGVldDtcbiAgfTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKGtleSwgc2hlZXQpIHtcbiAgICBpZiAodGhpcy5zaGVldHMuaGFzKGtleSkpIHJldHVybjtcbiAgICB0aGlzLmxlbmd0aCsrO1xuICAgIHRoaXMuc2hlZXRzLnNldChrZXksIHtcbiAgICAgIHNoZWV0OiBzaGVldCxcbiAgICAgIHJlZnM6IDBcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8ubWFuYWdlID0gZnVuY3Rpb24gbWFuYWdlKGtleSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuc2hlZXRzLmdldChrZXkpO1xuXG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBpZiAoZW50cnkucmVmcyA9PT0gMCkge1xuICAgICAgICBlbnRyeS5zaGVldC5hdHRhY2goKTtcbiAgICAgIH1cblxuICAgICAgZW50cnkucmVmcysrO1xuICAgICAgcmV0dXJuIGVudHJ5LnNoZWV0O1xuICAgIH1cblxuICAgIHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gU2hlZXRzTWFuYWdlcjogY2FuJ3QgZmluZCBzaGVldCB0byBtYW5hZ2VcIik7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICBfcHJvdG8udW5tYW5hZ2UgPSBmdW5jdGlvbiB1bm1hbmFnZShrZXkpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLnNoZWV0cy5nZXQoa2V5KTtcblxuICAgIGlmIChlbnRyeSkge1xuICAgICAgaWYgKGVudHJ5LnJlZnMgPiAwKSB7XG4gICAgICAgIGVudHJ5LnJlZnMtLTtcbiAgICAgICAgaWYgKGVudHJ5LnJlZnMgPT09IDApIGVudHJ5LnNoZWV0LmRldGFjaCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCBcIlNoZWV0c01hbmFnZXI6IGNhbid0IGZpbmQgc2hlZXQgdG8gdW5tYW5hZ2VcIik7XG4gICAgfVxuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhTaGVldHNNYW5hZ2VyLCBbe1xuICAgIGtleTogXCJzaXplXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNoZWV0c01hbmFnZXI7XG59KCk7XG5cbi8qKlxuKiBFeHBvcnQgYSBjb25zdGFudCBpbmRpY2F0aW5nIGlmIHRoaXMgYnJvd3NlciBoYXMgQ1NTVE9NIHN1cHBvcnQuXG4qIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTgvMDMvY3Nzb21cbiovXG52YXIgaGFzQ1NTVE9NU3VwcG9ydCA9IHR5cGVvZiBDU1MgPT09ICdvYmplY3QnICYmIENTUyAhPSBudWxsICYmICdudW1iZXInIGluIENTUztcblxuLyoqXG4gKiBFeHRyYWN0cyBhIHN0eWxlcyBvYmplY3Qgd2l0aCBvbmx5IHByb3BzIHRoYXQgY29udGFpbiBmdW5jdGlvbiB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldER5bmFtaWNTdHlsZXMoc3R5bGVzKSB7XG4gIHZhciB0byA9IG51bGw7XG5cbiAgZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlc1trZXldO1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG4gICAgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmICghdG8pIHRvID0ge307XG4gICAgICB0b1trZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhciBleHRyYWN0ZWQgPSBnZXREeW5hbWljU3R5bGVzKHZhbHVlKTtcblxuICAgICAgaWYgKGV4dHJhY3RlZCkge1xuICAgICAgICBpZiAoIXRvKSB0byA9IHt9O1xuICAgICAgICB0b1trZXldID0gZXh0cmFjdGVkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0bztcbn1cblxuLyoqXG4gKiBBIGJldHRlciBhYnN0cmFjdGlvbiBvdmVyIENTUy5cbiAqXG4gKiBAY29weXJpZ2h0IE9sZWcgSXNvbmVuIChTbG9ib2Rza29pKSAvIElzb25lbiAyMDE0LXByZXNlbnRcbiAqIEB3ZWJzaXRlIGh0dHBzOi8vZ2l0aHViLmNvbS9jc3NpbmpzL2pzc1xuICogQGxpY2Vuc2UgTUlUXG4gKi9cbnZhciBpbmRleCA9IGNyZWF0ZUpzcygpO1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbmV4cG9ydCB7IFJ1bGVMaXN0LCBTaGVldHNNYW5hZ2VyLCBTaGVldHNSZWdpc3RyeSwgY3JlYXRlSnNzIGFzIGNyZWF0ZSwgY3JlYXRlR2VuZXJhdGVJZCwgY3JlYXRlUnVsZSwgZ2V0RHluYW1pY1N0eWxlcywgaGFzQ1NTVE9NU3VwcG9ydCwgc2hlZXRzLCB0b0Nzc1ZhbHVlIH07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufSIsIi8qKlxuICogTG9hZGVyLmpzIGZvciBVcHB5XG4gKi9cbmltcG9ydCB7IGRlZmF1bHQgYXMganNzLCBTdHlsZVNoZWV0IGFzIEpTU1N0eWxlU2hlZXQgfSBmcm9tICdqc3MnO1xuaW1wb3J0IGdsb2JhbCBmcm9tICdqc3MtcGx1Z2luLWdsb2JhbCc7XG5pbXBvcnQgeyBnbG9iYWxTdHlsZSwgaWZyYW1lU3R5bGUsIGJhY2tkcm9wU3R5bGUgfSBmcm9tICcuL2xvYWRlci5zdHlsZSc7XG5pbXBvcnQgeyBNZXNzYWdlU3RhdHVzIH0gZnJvbSAnLi4vLi4vdXRpbC9jb25zdGFudHMnO1xuaW1wb3J0IHsgSUV4cGxvcmVyT3B0aW9ucyB9IGZyb20gJy4uLy4uL3V0aWwvaW50ZXJmYWNlcyc7XG5cbi8qKlxuICAqIFRoaXMgYXJyYXkgbWFwcyB0aGUgQVBJIHNlcnZlciBuYW1lIHRvIHRoZSBwcmVmZXJyZWQgQ0ROIGhvc3RpbmcgdGhlIGV4cGxvcmVyLiAgSWYgdGhlIFwiYXBpTmFtZVwiIGFwcGVhcnMgaW4gdGhlIGFwaSBzZXJ2ZXIgbmFtZSxcbiAgKiB0aGVuIHRoZSBtYXRjaGluZyBDRE4gd2lsbCBiZSB1c2VkLiAgVGhpcyBhcnJheSB3aWxsIGJlIHBhcnNlZCBpbiBvcmRlciwgYW5kIHRoZSBsYXN0IGVudHJ5IGlzIGFsd2F5cyB0aGUgZGVmYXVsdC5cbiAgKi9cbmNvbnN0IENETk1hcDogeyBhcGlOYW1lOiBzdHJpbmc7IGNkbjogc3RyaW5nIH1bXSA9IFtcbiAge1xuICAgIC8vIGV4cGVyaW1lbnRhbCBhcGkgc2VydmVyLiAgVXNlZCBtb3N0bHkgZm9yIHRlc3Rpbmcga3ViZXJuZXRlcy9DRE4gY2hhbmdlc1xuICAgIGFwaU5hbWU6ICdwbGF5Z3JvdW5kJyxcbiAgICBjZG46ICdodHRwczovL2Nsb3VkLXN0b3JhZ2UtaW50ZWdyYXRpb24ucGxheWdyb3VuZC5ibGFja2JvYXJkY2RuLmNvbSdcbiAgfSxcbiAge1xuICAgIC8vIHRlc3QgYW5kIGRldiBlbnZpcm9ubWVudHMuICBVc2VkIGJ5IENJIHBpcGxlbGluZSBhbmQgbW9zdCBkZXYgaW5zdGFuY2VzLlxuICAgIGFwaU5hbWU6ICdkZXYnLFxuICAgIGNkbjogJ2h0dHBzOi8vY2xvdWQtc3RvcmFnZS1pbnRlZ3JhdGlvbi5kZXYuYmxhY2tib2FyZGNkbi5jb20nXG4gIH0sXG4gIHtcbiAgICAvLyBkZWZhdWx0LCBwcm9kdWN0aW9uIENETlxuICAgIGFwaU5hbWU6ICdkZWZhdWx0JyxcbiAgICBjZG46ICdodHRwczovL2Nsb3VkLXN0b3JhZ2UtaW50ZWdyYXRpb24uYmxhY2tib2FyZGNkbi5jb20nXG4gIH1cbl07XG5cbmNvbnN0IFNUWUxFX05BTUVfUFJFRklYID0gJ2Nsb3VkLXN0b3JhZ2UtaW50ZWdyYXRpb24tJztcblxuLyoqXG4gKiBFeHBsb3JlciBvYmplY3RcbiAqL1xuZXhwb3J0IGNsYXNzIEV4cGxvcmVyIHtcbiAgaWZyYW1lSGFzTG9hZGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50LCBwcml2YXRlIGJhY2tkcm9wOiBIVE1MRGl2RWxlbWVudCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7XG4gICAgICBzdWNjZXNzOiBbXSxcbiAgICAgIGNhbmNlbDogW10sXG4gICAgICBlcnJvcjogW10sXG4gICAgICBhZGRBY2NvdW50OiBbXSxcbiAgICAgIGRlbGV0ZUFjY291bnQ6IFtdXG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbWVzc2FnZSA9PiB7XG4gICAgICBpZiAobWVzc2FnZS5kYXRhLnN0YXR1cyA9PT0gJ2NhbmNlbCcpIHtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiB0aGlzLnN1YnNjcmliZXJzLmNhbmNlbCkge1xuICAgICAgICAgIHN1YnNjcmliZXIuY2FsbCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXNzYWdlLmRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGJhY2tkcm9wLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiB0aGlzLnN1YnNjcmliZXJzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzdWJzY3JpYmVyLmNhbGwodW5kZWZpbmVkLCBtZXNzYWdlLmRhdGEuZmlsZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgdGhpcy5pZnJhbWVIYXNMb2FkZWQgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcG9zdE1lc3NhZ2UgdG8gdGhlIGlmcmFtZSB3aGlsZSB0YWtpbmcgaW50byBhY2NvdW50IHdoZXRoZXIgb3Igbm90IHRoZSBpZnJhbWUgaGFzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgZGF0YSB0byBiZSBwb3N0ZWRcbiAgICovXG4gIHByaXZhdGUgcG9zdE1lc3NhZ2VUb0lmcmFtZShzdGF0dXM6IE1lc3NhZ2VTdGF0dXMsIG9wdGlvbnM/OiBJRXhwbG9yZXJPcHRpb25zKTogdm9pZCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgc3RhdHVzOiBzdGF0dXMudG9TdHJpbmcoKSwgb3B0aW9ucyB9O1xuICAgIGlmICh0aGlzLmlmcmFtZUhhc0xvYWRlZCkge1xuICAgICAgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5pZnJhbWUuc3JjKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5pZnJhbWUuc3JjKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBleHBsb3JlciBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqL1xuICB1cGRhdGUob3B0aW9uczogSUV4cGxvcmVyT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMucG9zdE1lc3NhZ2VUb0lmcmFtZShNZXNzYWdlU3RhdHVzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBleHBsb3JlciB3aW5kb3dcbiAgICovXG4gIGNob29zZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLmJhY2tkcm9wLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHRoaXMucG9zdE1lc3NhZ2VUb0lmcmFtZShNZXNzYWdlU3RhdHVzLm9wZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZ3MgdGhlIHVzZXIgb3V0IG9mIGFsbCBjbG91ZCBzdG9yYWdlIGNvbm5lY3Rpb25zXG4gICAqL1xuICBsb2dvdXQoKTogdm9pZCB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZVRvSWZyYW1lKE1lc3NhZ2VTdGF0dXMubG9nb3V0KTtcbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaWJlcnM6IHtcbiAgICBzdWNjZXNzOiBGdW5jdGlvbltdO1xuICAgIGNhbmNlbDogRnVuY3Rpb25bXTtcbiAgICBlcnJvcjogRnVuY3Rpb25bXTtcbiAgICBhZGRBY2NvdW50OiBGdW5jdGlvbltdO1xuICAgIGRlbGV0ZUFjY291bnQ6IEZ1bmN0aW9uW107XG4gIH07XG5cbiAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIHN3aXRjaCAoZXZlbnROYW1lKSB7XG4gICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5zdWNjZXNzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NhbmNlbCc6XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMuY2FuY2VsLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5lcnJvci5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhZGRBY2NvdW50JzpcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5hZGRBY2NvdW50LnB1c2goY2FsbGJhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlbGV0ZUFjY291bnQnOlxuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmRlbGV0ZUFjY291bnQucHVzaChjYWxsYmFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGV2ZW50Jyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuKiBVcHB5IExvYWRlclxuKi9cbmV4cG9ydCBjbGFzcyBVcHB5TG9hZGVyIHtcbiAgcHJpdmF0ZSBjdXJyZW50U2NyaXB0VXJsOiBzdHJpbmc7XG4gIHByaXZhdGUgZ2xvYmFsU3R5bGVTaGVldDogSlNTU3R5bGVTaGVldDwnQGdsb2JhbCc+O1xuICBwcml2YXRlIGlmcmFtZVN0eWxlU2hlZXQ6IEpTU1N0eWxlU2hlZXQ8J21vZGFsJz47XG4gIHByaXZhdGUgYmFja2Ryb3BTdHlsZVNoZWV0OiBKU1NTdHlsZVNoZWV0PCdiYWNrZHJvcCc+O1xuICBwcml2YXRlIGJhY2tkcm9wOiBIVE1MRGl2RWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBnZXQgdGhlIGN1cnJlbnQgc2NyaXB0IGxvY2F0aW9uIGluIGNhc2Ugd2UgbmVlZCBpdFxuICAgIHRoaXMuY3VycmVudFNjcmlwdFVybCA9ICg8SFRNTFNjcmlwdEVsZW1lbnQ+ZG9jdW1lbnQuY3VycmVudFNjcmlwdCk/LnNyYztcblxuICAgIC8vIGFkZCBzdHlsZXNcbiAgICBqc3MudXNlKGdsb2JhbCgpKTtcbiAgICB0aGlzLmdsb2JhbFN0eWxlU2hlZXQgPSBqc3MuY3JlYXRlU3R5bGVTaGVldChnbG9iYWxTdHlsZSkuYXR0YWNoKCk7XG4gICAgdGhpcy5pZnJhbWVTdHlsZVNoZWV0ID0ganNzLmNyZWF0ZVN0eWxlU2hlZXQoaWZyYW1lU3R5bGUsIHsgY2xhc3NOYW1lUHJlZml4OiBTVFlMRV9OQU1FX1BSRUZJWCB9KS5hdHRhY2goKTtcbiAgICB0aGlzLmJhY2tkcm9wU3R5bGVTaGVldCA9IGpzcy5jcmVhdGVTdHlsZVNoZWV0KGJhY2tkcm9wU3R5bGUsIHsgY2xhc3NOYW1lUHJlZml4OiBTVFlMRV9OQU1FX1BSRUZJWCB9KS5hdHRhY2goKTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgYmFja2Ryb3BcbiAgICB0aGlzLmJhY2tkcm9wID0gPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG91ZC1zdG9yYWdlLWJhY2tkcm9wJyk7XG4gICAgdGhpcy5iYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuYmFja2Ryb3AuaWQgPSAnY2xvdWQtc3RvcmFnZS1iYWNrZHJvcCc7XG4gICAgdGhpcy5iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKHRoaXMuYmFja2Ryb3BTdHlsZVNoZWV0LmNsYXNzZXMuYmFja2Ryb3ApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRFeHBsb3JlclVybChvcHRpb25zOiBJRXhwbG9yZXJPcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMudXNlX2xvYWRlcl9leHBsb3Jlcikge1xuICAgICAgLy8gdXNlIHRoZSBleHBsb3JlciB3aXRoIHRoZSBzYW1lIENETiBwYXRoIGFzIHRoZSBjdXJyZW50IGV4cGxvcmVyLiAgVGhpcyBpcyBub3JtYWxseSBkb25lXG4gICAgICAvLyBmb3IgdGVzdGluZy4gIEFzc3VtZSB0aGF0IHRoZSBsb2FkZXIgaXMgbG9jYXRlZCBhdCA8c29tZXVybD4vbG9hZGVyL2pzL2xvYWRlci5qcyBhbmRcbiAgICAgIC8vIHRoZSBleHBsb3JlciBpcyBsb2NhdGVkIGF0IDxzb21ldXJsPi9leHBsb3Jlci9leHBsb3Jlci5odG1sXG4gICAgICBjb25zdCB1cmxQYXJ0cyA9IHRoaXMuY3VycmVudFNjcmlwdFVybC5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgYmFzZUluZGV4ID0gdXJsUGFydHMuaW5kZXhPZignbG9hZGVyJyk7XG4gICAgICBpZiAoYmFzZUluZGV4ID4gMCkge1xuICAgICAgICBjb25zdCBleHBsb3JlclVybCA9IHVybFBhcnRzLnNsaWNlKDAsIGJhc2VJbmRleCkuam9pbignLycpO1xuICAgICAgICByZXR1cm4gZXhwbG9yZXJVcmw7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3VwcHk6IEVSUk9SOiBub25zdGFuZGFyZCBjdXJyZW50U2NyaXB0IHVybC4gIENhbm5vdCB1c2UgbG9hZGVyIGV4cGxvcmVyJyk7XG4gICAgfVxuXG4gICAgY29uc3QgYXBpU2VydmVyID0gb3B0aW9ucz8uYmFzZV91cmwgPz8gJyc7XG4gICAgLy8gcmV0dXJuIHRoZSBmaXJzdCBDRE5NYXAgZW50cnkgdGhhdCBtYXRjaGVzIHRoZSBhcGkgc2VydmVyLCBvciB0aGUgbGFzdCBlbnRyeSBpZiBub25lIGZvdW5kXG4gICAgcmV0dXJuIENETk1hcC5maW5kKGl0ZW0gPT4gYXBpU2VydmVyLmluZGV4T2YoaXRlbS5hcGlOYW1lKSA+IDApPy5jZG4gPz8gQ0ROTWFwW0NETk1hcC5sZW5ndGggLSAxXS5jZG47XG4gIH1cblxuICAvKipcbiAgICogRXhwbG9yZXIgaW5pdGlhbGl6YXRpb24uICBVc2UgYXJyb3cgZnVuY3Rpb24gdG8gcHJlc2VydmUgXCJ0aGlzXCJcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHJldHVybnNcbiAgICovXG4gIHB1YmxpYyBleHBsb3JlciA9IChvcHRpb25zOiBJRXhwbG9yZXJPcHRpb25zKTogRXhwbG9yZXIgPT4ge1xuICAgIC8vIGNyZWF0ZSB0aGUgaWZyYW1lIC0tIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IG9uZSBldmVyeSB0aW1lXG4gICAgY29uc3QgdGV4dERpcmVjdGlvbiA9IG9wdGlvbnMudGV4dF9kaXJlY3Rpb24gPz8gJ2x0cic7XG4gICAgY29uc3QgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBmcmFtZS5pZCA9IGBjbG91ZC1zdG9yYWdlLWlmcmFtZS0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwICoqIDEyKX1gO1xuICAgIGZyYW1lLmNsYXNzTGlzdC5hZGQoJ2tsb3VkbGVzcy1tb2RhbCcsIHRoaXMuaWZyYW1lU3R5bGVTaGVldC5jbGFzc2VzLm1vZGFsKTtcbiAgICBmcmFtZS5jbGFzc0xpc3QuYWRkKCdjbG91ZC1zdG9yYWdlLWludGVncmF0aW9uLW1vZGFsJywgdGhpcy5pZnJhbWVTdHlsZVNoZWV0LmNsYXNzZXMubW9kYWwpO1xuICAgIGZyYW1lLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnZXhwbG9yZXInKTtcbiAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoJ2RpcicsIHRleHREaXJlY3Rpb24pO1xuICAgIGNvbnN0IGZyYW1lVXJsID0gbmV3IFVSTChgJHt0aGlzLmdldEV4cGxvcmVyVXJsKG9wdGlvbnMpfS9leHBsb3Jlci9leHBsb3Jlci5odG1sYCk7XG4gICAgZnJhbWVVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnb3JpZ2luJywgd2luZG93Lm9yaWdpbik7XG4gICAgZnJhbWVVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnYmFzZV91cmwnLCBvcHRpb25zLmJhc2VfdXJsID8/ICcnKTtcbiAgICBmcmFtZVVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd0ZXh0X2RpcmVjdGlvbicsIHRleHREaXJlY3Rpb24pO1xuICAgIGlmIChvcHRpb25zLm11bHRpc2VsZWN0ID09PSBmYWxzZSkge1xuICAgICAgZnJhbWVVcmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnYWxsb3dfc2luZ2xlX2ZpbGUnLCAndHJ1ZScpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zaG93X2R1bW15X3Byb3ZpZGVyKSB7XG4gICAgICBmcmFtZVVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdzaG93X2R1bW15X3Byb3ZpZGVyJywgJ3RydWUnKTtcbiAgICB9XG4gICAgZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCBmcmFtZVVybC50b1N0cmluZygpKTtcbiAgICBmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnJhbWUpO1xuXG4gICAgLy8gYXR0YWNoIHRoZSBiYWNrZHJvcCBpZiB3ZSBoYXZlbid0IGFscmVhZHlcbiAgICAvLyB3ZSBkbyB0aGlzIGhlcmUgaW5zdGVhZCBvZiB0aGUgY29uc3RydWN0b3IgYmVjYXVzZSBkb2N1bWVudC5ib2R5IG1heSBub3QgYmUgcmVhZHkgdGhlblxuICAgIGNvbnN0IGV4aXN0aW5nQmFja2Ryb3AgPSA8SFRNTERpdkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkLXN0b3JhZ2UtYmFja2Ryb3AnKTtcbiAgICBpZiAoZXhpc3RpbmdCYWNrZHJvcCA9PT0gbnVsbCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJhY2tkcm9wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEV4cGxvcmVyKGZyYW1lLCB0aGlzLmJhY2tkcm9wKTtcbiAgfVxuXG4gIHB1YmxpYyBhdXRoZW50aWNhdG9yKCk6IHZvaWQge1xuICAgIC8vIHRvZG86IHRoaXMgd29uJ3QgYmUgbmVlZGVkIGdvaW5nIGZvcndhcmQuICBKdXN0IGEgc2hpbSB0byBwcmV2ZW50IExlYXJuIGZyb20gY29tcGxhaW5pbmcgdGhhdCBpdCBpcyBtaXNzaW5nLlxuICB9XG59XG4oPGFueT53aW5kb3cpLktsb3VkbGVzcyA9IG5ldyBVcHB5TG9hZGVyKCk7XG4oPGFueT53aW5kb3cpLkNsb3VkU3RvcmFnZUludGVncmF0aW9uID0gKDxhbnk+d2luZG93KS5LbG91ZGxlc3M7XG4iLCIvKipcbiAqIEdsb2JhbCBzdHlsZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGdsb2JhbFN0eWxlID0ge1xuICAnQGdsb2JhbCc6IHtcbiAgfVxufTtcblxuLyoqXG4gKiBJZnJhbWUgc3R5bGVzXG4gKi9cbmV4cG9ydCBjb25zdCBpZnJhbWVTdHlsZSA9IHtcbiAgbW9kYWw6IHtcbiAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICdib3gtc2l6aW5nJzogJ2JvcmRlci1ib3gnLFxuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHRvcDogJzIwJScsXG4gICAgbGVmdDogJzUwJScsXG4gICAgd2lkdGg6ICc2NDBweCcsXG4gICAgaGVpZ2h0OiAnNjB2aCcsXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgtNTAlKScsXG4gICAgYm9yZGVyOiAnc29saWQgMCAjNjY2JyxcbiAgICAnYm9yZGVyLXJhZGl1cyc6ICcycHgnLFxuICAgICdib3gtc2hhZG93JzogJzAgMCAxMHB4IHJnYmEoMCwwLDAsMC40KScsXG4gICAgdHJhbnNpdGlvbjogJ2FsbCAwJyxcbiAgICAnLXdlYmtpdC10cmFuc2l0aW9uJzogJ2FsbCAwJyxcbiAgICAnei1pbmRleCc6ICc5OTk5JyxcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjZmFmYWZhJ1xuICB9LFxuICAnQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjEwMjRweCksIG9ubHkgc2NyZWVuIGFuZCAobWF4LWhlaWdodDo3NjhweCksIG9ubHkgc2NyZWVuIGFuZCAobWF4LWRldmljZS13aWR0aDoxMDI0cHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1kZXZpY2UtaGVpZ2h0Ojc2OHB4KSc6IHtcbiAgICBtb2RhbDoge1xuICAgICAgaGVpZ2h0OiAnODR2aCcsXG4gICAgICB0b3A6ICc4JScsXG4gICAgfVxuICB9LFxuXG4gICdAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NjQwcHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6NTEycHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1kZXZpY2Utd2lkdGg6NjQwcHgpLCBvbmx5IHNjcmVlbiBhbmQgKG1heC1kZXZpY2UtaGVpZ2h0OjUxMnB4KSc6IHtcbiAgICBtb2RhbDoge1xuICAgICAgd2lkdGg6ICcxcHgnLFxuICAgICAgJ21pbi13aWR0aCc6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgdG9wOiAnMCcsXG4gICAgICBsZWZ0OiAnMCcsXG4gICAgICB0cmFuc2Zvcm06ICdub25lJyxcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQmFja2Ryb3Agc3R5bGVzXG4gKi9cbmV4cG9ydCBjb25zdCBiYWNrZHJvcFN0eWxlID0ge1xuICBiYWNrZHJvcDoge1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIG1hcmdpbjogJzAnLFxuICAgIHRvcDogJzAnLFxuICAgIGxlZnQ6ICcwJyxcbiAgICBwYWRkaW5nOiAnMCcsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAncmdiYSgwLDAsMCwwLjYpJyxcbiAgICAnei1pbmRleCc6ICc5OTk4JyxcbiAgICBvcGFjaXR5OiAnLjUnXG4gIH1cbn07XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgeyBSdWxlTGlzdCB9IGZyb20gJ2pzcyc7XG5cbnZhciBhdCA9ICdAZ2xvYmFsJztcbnZhciBhdFByZWZpeCA9ICdAZ2xvYmFsICc7XG5cbnZhciBHbG9iYWxDb250YWluZXJSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xvYmFsQ29udGFpbmVyUnVsZShrZXksIHN0eWxlcywgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdnbG9iYWwnO1xuICAgIHRoaXMuYXQgPSBhdDtcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJ1bGVzID0gbmV3IFJ1bGVMaXN0KF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG5cbiAgICBmb3IgKHZhciBzZWxlY3RvciBpbiBzdHlsZXMpIHtcbiAgICAgIHRoaXMucnVsZXMuYWRkKHNlbGVjdG9yLCBzdHlsZXNbc2VsZWN0b3JdKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnByb2Nlc3MoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcnVsZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gR2xvYmFsQ29udGFpbmVyUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmdldFJ1bGUgPSBmdW5jdGlvbiBnZXRSdWxlKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5nZXQobmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgcnVsZSwgcnVuIHBsdWdpbnMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJ1bGUgPSBmdW5jdGlvbiBhZGRSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIHJ1bGUgPSB0aGlzLnJ1bGVzLmFkZChuYW1lLCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgaWYgKHJ1bGUpIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKHJ1bGUpO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIHJ1bGUsIHJ1biBwbHVnaW5zLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXBsYWNlUnVsZSA9IGZ1bmN0aW9uIHJlcGxhY2VSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIG5ld1J1bGUgPSB0aGlzLnJ1bGVzLnJlcGxhY2UobmFtZSwgc3R5bGUsIG9wdGlvbnMpO1xuICAgIGlmIChuZXdSdWxlKSB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShuZXdSdWxlKTtcbiAgICByZXR1cm4gbmV3UnVsZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YocnVsZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YocnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBHbG9iYWxDb250YWluZXJSdWxlO1xufSgpO1xuXG52YXIgR2xvYmFsUHJlZml4ZWRSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xvYmFsUHJlZml4ZWRSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAnZ2xvYmFsJztcbiAgICB0aGlzLmF0ID0gYXQ7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdmFyIHNlbGVjdG9yID0ga2V5LnN1YnN0cihhdFByZWZpeC5sZW5ndGgpO1xuICAgIHRoaXMucnVsZSA9IG9wdGlvbnMuanNzLmNyZWF0ZVJ1bGUoc2VsZWN0b3IsIHN0eWxlLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgcGFyZW50OiB0aGlzXG4gICAgfSkpO1xuICB9XG5cbiAgdmFyIF9wcm90bzIgPSBHbG9iYWxQcmVmaXhlZFJ1bGUucHJvdG90eXBlO1xuXG4gIF9wcm90bzIudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZSA/IHRoaXMucnVsZS50b1N0cmluZyhvcHRpb25zKSA6ICcnO1xuICB9O1xuXG4gIHJldHVybiBHbG9iYWxQcmVmaXhlZFJ1bGU7XG59KCk7XG5cbnZhciBzZXBhcmF0b3JSZWdFeHAgPSAvXFxzKixcXHMqL2c7XG5cbmZ1bmN0aW9uIGFkZFNjb3BlKHNlbGVjdG9yLCBzY29wZSkge1xuICB2YXIgcGFydHMgPSBzZWxlY3Rvci5zcGxpdChzZXBhcmF0b3JSZWdFeHApO1xuICB2YXIgc2NvcGVkID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHNjb3BlZCArPSBzY29wZSArIFwiIFwiICsgcGFydHNbaV0udHJpbSgpO1xuICAgIGlmIChwYXJ0c1tpICsgMV0pIHNjb3BlZCArPSAnLCAnO1xuICB9XG5cbiAgcmV0dXJuIHNjb3BlZDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmVzdGVkR2xvYmFsQ29udGFpbmVyUnVsZShydWxlLCBzaGVldCkge1xuICB2YXIgb3B0aW9ucyA9IHJ1bGUub3B0aW9ucyxcbiAgICAgIHN0eWxlID0gcnVsZS5zdHlsZTtcbiAgdmFyIHJ1bGVzID0gc3R5bGUgPyBzdHlsZVthdF0gOiBudWxsO1xuICBpZiAoIXJ1bGVzKSByZXR1cm47XG5cbiAgZm9yICh2YXIgbmFtZSBpbiBydWxlcykge1xuICAgIHNoZWV0LmFkZFJ1bGUobmFtZSwgcnVsZXNbbmFtZV0sIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBzZWxlY3RvcjogYWRkU2NvcGUobmFtZSwgcnVsZS5zZWxlY3RvcilcbiAgICB9KSk7XG4gIH1cblxuICBkZWxldGUgc3R5bGVbYXRdO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcmVmaXhlZEdsb2JhbFJ1bGUocnVsZSwgc2hlZXQpIHtcbiAgdmFyIG9wdGlvbnMgPSBydWxlLm9wdGlvbnMsXG4gICAgICBzdHlsZSA9IHJ1bGUuc3R5bGU7XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZSkge1xuICAgIGlmIChwcm9wWzBdICE9PSAnQCcgfHwgcHJvcC5zdWJzdHIoMCwgYXQubGVuZ3RoKSAhPT0gYXQpIGNvbnRpbnVlO1xuICAgIHZhciBzZWxlY3RvciA9IGFkZFNjb3BlKHByb3Auc3Vic3RyKGF0Lmxlbmd0aCksIHJ1bGUuc2VsZWN0b3IpO1xuICAgIHNoZWV0LmFkZFJ1bGUoc2VsZWN0b3IsIHN0eWxlW3Byb3BdLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yXG4gICAgfSkpO1xuICAgIGRlbGV0ZSBzdHlsZVtwcm9wXTtcbiAgfVxufVxuLyoqXG4gKiBDb252ZXJ0IG5lc3RlZCBydWxlcyB0byBzZXBhcmF0ZSwgcmVtb3ZlIHRoZW0gZnJvbSBvcmlnaW5hbCBzdHlsZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBqc3NHbG9iYWwoKSB7XG4gIGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShuYW1lLCBzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW5hbWUpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKG5hbWUgPT09IGF0KSB7XG4gICAgICByZXR1cm4gbmV3IEdsb2JhbENvbnRhaW5lclJ1bGUobmFtZSwgc3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZVswXSA9PT0gJ0AnICYmIG5hbWUuc3Vic3RyKDAsIGF0UHJlZml4Lmxlbmd0aCkgPT09IGF0UHJlZml4KSB7XG4gICAgICByZXR1cm4gbmV3IEdsb2JhbFByZWZpeGVkUnVsZShuYW1lLCBzdHlsZXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQudHlwZSA9PT0gJ2dsb2JhbCcgfHwgcGFyZW50Lm9wdGlvbnMucGFyZW50ICYmIHBhcmVudC5vcHRpb25zLnBhcmVudC50eXBlID09PSAnZ2xvYmFsJykge1xuICAgICAgICBvcHRpb25zLnNjb3BlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5zZWxlY3RvciAmJiBvcHRpb25zLnNjb3BlZCA9PT0gZmFsc2UpIHtcbiAgICAgIG9wdGlvbnMuc2VsZWN0b3IgPSBuYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Qcm9jZXNzUnVsZShydWxlLCBzaGVldCkge1xuICAgIGlmIChydWxlLnR5cGUgIT09ICdzdHlsZScgfHwgIXNoZWV0KSByZXR1cm47XG4gICAgaGFuZGxlTmVzdGVkR2xvYmFsQ29udGFpbmVyUnVsZShydWxlLCBzaGVldCk7XG4gICAgaGFuZGxlUHJlZml4ZWRHbG9iYWxSdWxlKHJ1bGUsIHNoZWV0KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgb25DcmVhdGVSdWxlOiBvbkNyZWF0ZVJ1bGUsXG4gICAgb25Qcm9jZXNzUnVsZTogb25Qcm9jZXNzUnVsZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBqc3NHbG9iYWw7XG4iXSwic291cmNlUm9vdCI6IiJ9